<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Area ZeroZero</title>
      <style>
	     
		.body2 {
            display: flex;
            justify-content: center;
            align-items: center;
            margin: 0; /* Menghilangkan margin default pada body */
        }
	  
        #maze {
            display: grid;
            grid-template-columns: repeat(7, 50px); /* Ubah angka 5 sesuai dengan jumlah kolom grid */
            grid-template-rows: repeat(7, 50px); /* Ubah angka 5 sesuai dengan jumlah baris grid */
        }

        .maze-cell {
            width: 50px;
            height: 50px;
            border: 1px solid black;
			position: relative; /* Diperlukan untuk mengatur posisi teks "P" */
            display: flex;
            justify-content: center;
            align-items: center;
        }

        .maze-wall {
            background-color: black;
        }
		
		.maze-warp {
            background-color: blue;
        }
		
		.maze-letterGenerator {
            background-color: #FFFF00;
        }
		
		.maze-home {
            background-color: #FF00FF;
        }

		
		#controls {
            margin-top: 20px;
        }

        button {
            margin: 10px;
            padding: 15px 30px;
            font-size: 16px;
            border: none;
            background-color: #4CAF50; /* Warna latar belakang */
            color: white; /* Warna teks */
            border-radius: 5px;
            cursor: pointer;
        }

        button:hover {
            background-color: #45a049; /* Warna latar belakang saat tombol dihover */
        }
		
		.teks-cantik {
			font-size: 2rem;
			font-weight: bold;
			color: #fff;
			background: linear-gradient(120deg, #ff5252, #b1b1b1, #00e5ff);
			background-size: 200% auto;
		animation: gradient-shift 5s infinite;
		}

		@keyframes gradient-shift {
		0% {
			background-position: 0 0;
		}
		100% {
			background-position: 200% 0;
		}
		}
		

		#main-content {
			width: 80%;
			float: left;
			position: absolute;
		}
		
		#sidebar {
			width: 20%;
			float: right;
			background-color: rgba(255, 255, 255, 0.7);
			padding: 20px;
			height: 50%;
			overflow: scroll;
			max-height: 400px;
		}
		#sidebar2 {
			width: 20%;
			float: Left;
			background-color: rgba(255, 255, 255, 0.7);
			padding: 20px;
			height: 50%;
		}






    </style>
</head>

<body>
<div id="main-content">
	<div class="body2">
	<div id="maze"></div>
	</div>
	<div class = "body2">
	<div id="namaArea" class="teks-cantik"></div>
	</div>
	<div class = "body2">
    <div id="controls">
        <button id="buttonUp" onclick="move('up');">Up (W)</button>
		<button id="buttonColorize" onclick="colorize();" hidden >Colorize</button>
		<button id="buttonJack" onclick="jackOfAllTrades();" hidden >Jack of All Trades</button>
        <br>
        <button id="buttonLeft" onclick="move('left');">Left (A)</button>
        <button id="buttonRight" onclick="move('right');">Right (D)</button>
		<button id="buttonAreaClear" onclick="areaClear();" hidden >Area Clear</button>
		<button id="buttonBomb" onclick="bomb();" hidden >Bomb</button>
        <br>
        <button id="buttonRight" onclick="move('down');">Down (S)</button>
		<button id="buttonEnd" onclick="endLife();" hidden >End</button>
		<button id="buttonFastForward" onclick="fastForward();" hidden >Fast Forward >></button>
		<br>
		<button id="buttonKeyMaking" onclick="keyMaking();" hidden >Key-Making</button>
		<button id="buttonMining" onclick="mining();" hidden >Mining</button>
		<br>
		<button id="buttonGeneratorBuild" onclick="generatorBuild();" hidden >Build Letter Generator Here</button>
		<button id="buttonHomeBuild" onclick="homeBuild();" hidden >Build Home Here</button>
		<br>
		<button id="buttonNameArea" onclick="namingArea();" hidden >Name Area</button>
    </div>
	</div>
</div>

	
	<script>
	    mazeList = {}
		mazePosType = ['wall','road']
	</script>
	
	<script>
	function areaClear(){
		for (let i = 1; i < mazeSize[0] - 1; i++){
			for (let j = 1; j < mazeSize[1] - 1; j++){
				mazeList[playerArea.x][playerArea.y]["map"][i][j] = 'road';
			}
		}
		playerItem['A']-=2;playerItem['R']--;playerItem['E']--

		document.getElementById('buttonAreaClear').hidden = true;
		if (playerItem['A'] > 1 && playerItem['R'] > 0 && playerItem['E'] > 0){document.getElementById('buttonAreaClear').hidden = false;}
		drawMaze();
	}
	</script>

	<script>
	function bomb(){
		for (let i = playerPosition.y - 1; i < playerPosition.y + 2; i++){
			if (mazeList[playerArea.x][playerArea.y]["item"] == undefined){mazeList[playerArea.x][playerArea.y]["item"] = [['','','','',''],['','','','',''],['','','','',''],['','','','',''],['','','','','']];}
			for (let j = playerPosition.x - 1; j < playerPosition.x + 2; j++){
				if (i*j > 0  && i < mazeSize[0] - 1 && j < mazeSize[1] - 1 ){
					if (mazeList[playerArea.x][playerArea.y]["map"][i][j].substring(0,4) == 'wall' && mazeList[playerArea.x][playerArea.y]["map"][i][j].length == 5){
						mazeList[playerArea.x][playerArea.y]["item"][i-1][j-1] = mazeList[playerArea.x][playerArea.y]["map"][i][j].substring(4,5);
					}
					mazeList[playerArea.x][playerArea.y]["map"][i][j] = 'road';
				}
			}
		}
		playerItem['B']-=2;playerItem['O']--;playerItem['M']--

		document.getElementById('buttonBomb').hidden = true;
		if (playerItem['B'] > 1 && playerItem['O'] > 0 && playerItem['M'] > 0){document.getElementById('buttonBomb').hidden = false;}
		drawMaze();
	}
	</script>	
	
	<script>
	function colorize(){
		var colorHexLight = '89ABCDEF';
		var color = [0,0,0,0,0,0]
		var colorHex = '0123456789ABCDEF'
		color[0] = colorHex[Math.floor(Math.random()*colorHex.length)];
		color[1] = colorHex[Math.floor(Math.random()*colorHex.length)];
		color[2] = colorHex[Math.floor(Math.random()*colorHex.length)];
		color[3] = colorHex[Math.floor(Math.random()*colorHex.length)];
		color[4] = colorHex[Math.floor(Math.random()*colorHex.length)];
		color[5] = colorHex[Math.floor(Math.random()*colorHex.length)];
		color[2*Math.floor(Math.random()*3)] = colorHexLight[Math.floor(Math.random()*colorHexLight.length)]
		mazeList[playerArea.x][playerArea.y]['color'] = color.join('')

		playerItem['C']--

		document.getElementById('buttonColorize').hidden = true;
		if (playerItem['C'] > 0){document.getElementById('buttonColorize').hidden = false;}
		drawMaze();
	}
	</script>	
	
	<script>
	function fastForward(){
		eventSpeed++
		document.getElementById('sidebar').innerHTML += '<br>You feel that the time flow here is speeding up. All events happen faster...';

		playerItem['F']--;playerItem['A']--;playerItem['S']--;playerItem['T']--;

		document.getElementById('buttonFastForward').hidden = true;
		if (playerItem['F']*playerItem['A']*playerItem['S']*playerItem['T'] > 0){document.getElementById('buttonFastForward').hidden = false;}
		drawMaze();
	}
	</script>	
	
	<script>
	function generatorBuild(){
		mazeList[playerArea.x][playerArea.y]["map"][playerPosition.y][playerPosition.x] = 'letterGenerator';
		eventList.push(`generateLetter(${playerArea.x},${playerArea.y},${playerPosition.y},${playerPosition.x})`)

		playerItem['G']--;playerItem['E']-=2;playerItem['N']--;

		document.getElementById('buttonGeneratorBuild').hidden = true;
		if (playerItem['G'] > 0, playerItem['E'] > 1, playerItem['N'] > 0){document.getElementById('buttonGeneratorBuild').hidden = false;}
		drawMaze();
	}
	</script>	
	
	<script>
	function generateLetter(areaX,areaY,posY,posX){
	    if (mazeList[areaX][areaY]["item"] == undefined){mazeList[areaX][areaY]["item"] = [['','','','',''],['','','','',''],['','','','',''],['','','','',''],['','','','','']];}
		if (mazeList[areaX][areaY]["map"][posY][posX] != 'letterGenerator'){return}
		mazeList[areaX][areaY]["item"][posY - 1][posX - 1] = daftarHuruf[Math.floor(Math.random()*daftarHuruf.length)];
	}
	</script>
	

	<script>
	function homeBuild(){
		mazeList[playerArea.x][playerArea.y]["map"][playerPosition.y][playerPosition.x] = 'home';
		mazeList[playerArea.x][playerArea.y]["permanent"] = true;
		document.getElementById('sidebar').innerHTML += '<br>You created a home at <a href="#" onclick="goHome('+`${playerArea.x},${playerArea.y},${playerPosition.y},${playerPosition.x}`+');">AREA (' + playerArea.x + ", " + playerArea.y + ")</a>";

		playerItem['H']--;playerItem['E']--;playerItem['O']--;playerItem['M']--;

		document.getElementById('buttonHomeBuild').hidden = true;
		if (playerItem['H']*playerItem['E']*playerItem['O']*playerItem['M'] > 0){document.getElementById('buttonHomeBuild').hidden = false;}
		drawMaze();
	}
	</script>	
	
	<script>
	function goHome(areaX,areaY,posY,posX){
		if (movable == false){return}
		if (mazeList[areaX][areaY]["map"][posY][posX] != 'home'){
			document.getElementById('sidebar').innerHTML += '<br>This home has been destroyed.';
			return;
		};
		playerArea.x = areaX; playerArea.y = areaY; playerPosition.x = posX, playerPosition.y = posY;
		maze = mazeList[playerArea.x][playerArea.y]["map"];
		drawMaze();
	}
	</script>
	
	<script>
		function itemReceive(){
			itemReceived = daftarHuruf[Math.floor(Math.random()*daftarHuruf.length)];
			itemQuantity = 1 + Math.floor(1/(1-Math.random()));
			if (playerItem[itemReceived] == undefined){playerItem[itemReceived] = itemQuantity}
			else {playerItem[itemReceived]+=itemQuantity}
			document.getElementById('sidebar').innerHTML += `<br>You found ${itemQuantity} ${itemReceived}s.`;
			move('neutral');
		}
	</script>
	
	<script>
	function jackOfAllTrades(){
		for (let i = 1; i < mazeSize[0] - 1; i++){
			for (let j = 1; j < mazeSize[1] - 1; j++){
				if (mazeList[playerArea.x][playerArea.y]["map"][i][j].substring(0,4) == 'wall'){mazeList[playerArea.x][playerArea.y]["map"][i][j] = 'wall' + daftarHuruf[Math.floor(Math.random()*daftarHuruf.length)];}
			}
		}
		
		playerItem['J']--;

		document.getElementById('buttonJack').hidden = true;
		if (playerItem['J'] > 0){document.getElementById('buttonJack').hidden = false;}
		drawMaze();
	}
	</script>	
	
	<script>
	function keyMaking(){
		for (let i = 1; i < mazeSize[0] - 1; i++){
			for (let j = 1; j < mazeSize[1] - 1; j++){
				if (mazeList[playerArea.x][playerArea.y]["map"][i][j].substring(0,4) == 'wall' && mazeList[playerArea.x][playerArea.y]["map"][i][j].length == 5){
					var hurufMaking = mazeList[playerArea.x][playerArea.y]["map"][i][j].substring(4,5);
					if (playerItem[hurufMaking] == undefined){playerItem[hurufMaking] = 1}
					else {playerItem[hurufMaking]++}
				}
			}
		}
		move('neutral');
		
		playerItem['K']--;playerItem['E']--;playerItem['Y']--;

		document.getElementById('buttonKeyMaking').hidden = true;
		if (playerItem['K']*playerItem['E']*playerItem['Y'] > 0){document.getElementById('buttonKeyMaking').hidden = false;}
		drawMaze();
	}
	</script>
	
	<script>
	function mining(){
		for (let i = 1; i < mazeSize[0] - 1; i++){
			for (let j = 1; j < mazeSize[1] - 1; j++){
				if (mazeList[playerArea.x][playerArea.y]["map"][i][j].substring(0,4) == 'wall'){mazeList[playerArea.x][playerArea.y]["map"][i][j] = 'wallI';}
			}
		}
		playerItem['I'] += Math.floor(1/(1-Math.random()));
		
		playerItem['M']--;playerItem['I']--;playerItem['N']--;playerItem['E']--;

		document.getElementById('buttonMining').hidden = true;
		if (playerItem['M']*playerItem['I']*playerItem['N']*playerItem['E'] > 0){document.getElementById('buttonMining').hidden = false;}
		move('neutral');
		drawMaze();
	}
	</script>
	
	<script>
	function namingArea(){
		document.getElementById('sidebar').innerHTML += '<br><div id="tempText">Name this area:<br><input type="text" id="areaNaming" ><br><button onclick="nameThisArea()">Name</button></div>';
		movable = false;
		
		playerItem['N']--;playerItem['A']--;playerItem['M']--;playerItem['E']--;

		document.getElementById('buttonNameArea').hidden = true;
		if (playerItem['N']*playerItem['A']*playerItem['M']*playerItem['E'] > 0){document.getElementById('buttonNameArea').hidden = false;}
		
		drawMaze();
	}
	</script>
	
	<script>
		function nameThisArea(){
			mazeList[playerArea.x][playerArea.y]["name"] = document.getElementById("areaNaming").value;
			mazeList[playerArea.x][playerArea.y]["permanent"] = true;
			movable = true
			document.getElementById('sidebar').innerHTML += 'You named this area ' + document.getElementById("areaNaming").value;
			document.getElementById("tempText").remove();
		}
	</script>
	
	<script>
		daftarHuruf = "QWERTYUIOPASDFGHJKLZXCVBNM";
		function spawnItem(){
			pilihanAreaX = Object.keys(mazeList)[Math.floor(Math.random()*Object.keys(mazeList).length)];
			pilihanAreaXObjek = mazeList[pilihanAreaX];
			if (Object.keys(pilihanAreaXObjek).length == 0){return}
			pilihanAreaY = Object.keys(pilihanAreaXObjek)[Math.floor(Math.random()*Object.keys(pilihanAreaXObjek).length)];
			if ((playerArea.x == pilihanAreaX)&&(playerArea.y == pilihanAreaY)){return}
			if (mazeList[pilihanAreaX][pilihanAreaY]["item"] == undefined){
				mazeList[pilihanAreaX][pilihanAreaY]["item"] = [['','','','',''],['','','','',''],['','','','',''],['','','','',''],['','','','','']];
			}
			koordinatItem = [Math.ceil(Math.random()*5),Math.ceil(Math.random()*5)]
			if (mazeList[pilihanAreaX][pilihanAreaY]["map"][koordinatItem[0]][koordinatItem[1]]=='wall'){return}
			mazeList[pilihanAreaX][pilihanAreaY]["item"][koordinatItem[0]-1][koordinatItem[1]-1] = daftarHuruf[Math.floor(Math.random()*daftarHuruf.length)];
		}
	</script>
	<script>
		function mazeReconstruct(){
			pilihanAreaX = Object.keys(mazeList)[Math.floor(Math.random()*Object.keys(mazeList).length)];
			pilihanAreaXObjek = mazeList[pilihanAreaX];
			if (Object.keys(pilihanAreaXObjek).length == 0){return}
			pilihanAreaY = Object.keys(pilihanAreaXObjek)[Math.floor(Math.random()*Object.keys(pilihanAreaXObjek).length)];
			if (mazeList[pilihanAreaX][pilihanAreaY]['permanent'] != undefined){
				if (mazeList[pilihanAreaX][pilihanAreaY]['permanent'] == true){return}
			}
			if ((playerArea.x == pilihanAreaX)&&(playerArea.y == pilihanAreaY)){return}
			var mapBaru = [];
			var mazeSize = [7,7];
			warps = mazeList[pilihanAreaX][pilihanAreaY]["warps"];
			for(let i = 0; i < mazeSize[0]; i++){
					newMazeRow = [];
					for(let j = 0; j < mazeSize[1]; j++){
						pilihanTipe = mazePosType[Math.floor(Math.random()*mazePosType.length)]
						if (pilihanTipe == 'wall' && Math.random() < 1/2){pilihanTipe += daftarHuruf[Math.floor(Math.random()*daftarHuruf.length)]}
						if (((i==0)||(i==mazeSize[0]-1))||((j==0)||(j==mazeSize[1]-1))){pilihanTipe = 'wall';}
						if (( ((i==warps[0])&&(j==0))||((i==warps[1])&&(j==mazeSize[1]-1)) )||( ((i==0)&&(j==warps[2]))||((i==mazeSize[0]-1)&&(j==warps[3])) )){pilihanTipe = 'warp';}
						if (( ((i==warps[0])&&(j==1))||((i==warps[1])&&(j==mazeSize[1]-2)) )||( ((i==1)&&(j==warps[2]))||((i==mazeSize[0]-2)&&(j==warps[3])) )){pilihanTipe = 'road'}
						if ((j > 0)&&(j < mazeSize[1] - 1)){ if ((i > 0)&&(i < mazeSize[0] - 1)){
						if (mazeList[pilihanAreaX][pilihanAreaY]["item"]!=undefined){
							if (mazeList[pilihanAreaX][pilihanAreaY]["item"][i-1][j-1] != ''){pilihanTipe = 'road'};
						}
						}}
						newMazeRow.push(pilihanTipe)
					}
					mapBaru.push(newMazeRow);
				}
			mazeList[pilihanAreaX][pilihanAreaY]["map"] = mapBaru;
		}
	</script>
	<script>
		eventList = ['mazeReconstruct','spawnItem']
		eventSpeed = 1;
		function eventStart(){
			for (let i = 0; i < eventSpeed; i++){
			pilihanEvent = eventList[Math.floor(Math.random()*eventList.length)];
			switch (pilihanEvent){
				case 'mazeReconstruct':
					mazeReconstruct();
					break;
				case 'spawnItem':
					spawnItem();
					break;
			}
			if (pilihanEvent.substring(0,14) == 'generateLetter'){eval(pilihanEvent)}
			}
		}
	</script>
	<script>
		function createNeighbor(a,b){
			if (mazeList[a][b]["neighbor"] == 1){return}
			daftarTetangga = [[0,1],[0,-1],[-1,0],[1,0]];
			for (i = 0; i < 4; i++){
				a2 = a + daftarTetangga[i][0];
				if (mazeList[a2] == undefined){mazeList[a2] = {};}
				b2 = b + daftarTetangga[i][1];
				if (mazeList[a2][b2] == undefined){
				
					if (mazeList[a2-1] == undefined){mazeList[a2-1] = {};}
					if (mazeList[a2+1] == undefined){mazeList[a2+1] = {};}
				
					var mapBaru = []
					mazeSize = [7,7];
					warps = [Math.ceil(Math.random()*(mazeSize[0]-2)),Math.ceil(Math.random()*(mazeSize[0]-2)),Math.ceil(Math.random()*(mazeSize[1]-2)),Math.ceil(Math.random()*(mazeSize[1]-2))]
					if (mazeList[a2][b2+1] != undefined){warps[2] = mazeList[a2][b2+1]["warps"][3];}
					if (mazeList[a2][b2-1] != undefined){warps[3] = mazeList[a2][b2-1]["warps"][2];}
					if (mazeList[a2-1][b2] != undefined){warps[0] = mazeList[a2-1][b2]["warps"][1];}
					if (mazeList[a2+1][b2] != undefined){warps[1] = mazeList[a2+1][b2]["warps"][0];}
					for(let i = 0; i < mazeSize[0]; i++){
						newMazeRow = [];
						for(let j = 0; j < mazeSize[1]; j++){
								pilihanTipe = mazePosType[Math.floor(Math.random()*mazePosType.length)]
								if (pilihanTipe == 'wall' && Math.random() < 1/2){pilihanTipe += daftarHuruf[Math.floor(Math.random()*daftarHuruf.length)]}
								if (((i==0)||(i==mazeSize[0]-1))||((j==0)||(j==mazeSize[1]-1))){pilihanTipe = 'wall';}
								if (( ((i==warps[0])&&(j==0))||((i==warps[1])&&(j==mazeSize[1]-1)) )||( ((i==0)&&(j==warps[2]))||((i==mazeSize[0]-1)&&(j==warps[3])) )){pilihanTipe = 'warp';}
								if (( ((i==warps[0])&&(j==1))||((i==warps[1])&&(j==mazeSize[1]-2)) )||( ((i==1)&&(j==warps[2]))||((i==mazeSize[0]-2)&&(j==warps[3])) )){pilihanTipe = 'road'};
						newMazeRow.push(pilihanTipe)
					}
						mapBaru.push(newMazeRow);
					}
					mazeList[a2][b2] = {"map": mapBaru, "neighbor": 0, "warps": warps}
				}
			}
			mazeList[a][b]["neighbor"] = 1;
		}
	</script>
	<script>
		//create area zero zero
		areaZeroZero = []
		mazeSize = [7,7];
		warps = [Math.ceil(Math.random()*(mazeSize[0]-2)),Math.ceil(Math.random()*(mazeSize[0]-2)),Math.ceil(Math.random()*(mazeSize[1]-2)),Math.ceil(Math.random()*(mazeSize[1]-2))]
		for(let i = 0; i < mazeSize[0]; i++){
			newMazeRow = [];
			for(let j = 0; j < mazeSize[1]; j++){
				pilihanTipe = mazePosType[Math.floor(Math.random()*mazePosType.length)]
				if (pilihanTipe == 'wall' && Math.random() < 1/2){pilihanTipe += daftarHuruf[Math.floor(Math.random()*daftarHuruf.length)]}
				if (((i==0)||(i==mazeSize[0]-1))||((j==0)||(j==mazeSize[1]-1))){pilihanTipe = 'wall';}
				if (( ((i==warps[0])&&(j==0))||((i==warps[1])&&(j==mazeSize[1]-1)) )||( ((i==0)&&(j==warps[2]))||((i==mazeSize[0]-1)&&(j==warps[3])) )){pilihanTipe = 'warp';}
				if (( ((i==warps[0])&&(j==1))||((i==warps[1])&&(j==mazeSize[1]-2)) )||( ((i==1)&&(j==warps[2]))||((i==mazeSize[0]-2)&&(j==warps[3])) )){pilihanTipe = 'road'}
				if ((i == Math.floor(mazeSize[0]/2))&&(j == Math.floor(mazeSize[1]/2))){pilihanTipe = 'road';}
			    newMazeRow.push(pilihanTipe)
			}
			areaZeroZero.push(newMazeRow);
		}
		mazeList[0] = {};
		mazeList[0][0] = {"map": areaZeroZero, "neighbor": 0, "warps": warps}
        createNeighbor(0,0)
	</script>
	
	    <script>
        maze = areaZeroZero

        const playerPosition = { x: Math.floor(mazeSize[0]/2), y: Math.floor(mazeSize[1]/2) };
        playerArea = { x: 0, y: 0};
		playerItem = {B: 4, O: 4, M: 2, C:5};
		
		
        function drawMaze() {
			
            const mazeContainer = document.getElementById('maze');
            mazeContainer.innerHTML = '';

            for (let row = 0; row < maze.length; row++) {
                for (let col = 0; col < maze[row].length; col++) {
                    const cell = document.createElement('div');
                    cell.classList.add('maze-cell');
                    cell.classList.add('maze-'+maze[row][col]);
					
					if ((maze[row][col]).substring(0,4) == 'wall'){cell.classList.add('maze-wall');}
					if ((maze[row][col]).substring(0,4) == 'wall' && maze[row][col].length == 5){cell.innerHTML = '<div style="color: white">' + (maze[row][col]).substring(4,5) + '</div>';}
					
					if ((col > 0)&&(col < maze[row].length - 1)){ if ((row > 0)&&(row < maze.length - 1)){
					if (mazeList[playerArea.x][playerArea.y]["item"]!=undefined){
							if (mazeList[playerArea.x][playerArea.y]["item"][row-1][col-1] != ''){cell.innerHTML = mazeList[playerArea.x][playerArea.y]["item"][row-1][col-1]};
					}
					}}
					if (mazeList[playerArea.x][playerArea.y]["color"]!=undefined && maze[row][col] == 'road'){
							cell.style.backgroundColor = "#" + mazeList[playerArea.x][playerArea.y]["color"];
					}
					if (playerPosition.x === col && playerPosition.y === row) {
                        cell.innerHTML = '<img src="player.png"/>'; // Representasi pemain
                    }
                    mazeContainer.appendChild(cell);
                }
            }
			document.getElementById("namaArea").innerHTML = "AREA (" + playerArea.x + ", " + playerArea.y + ")";
			if (mazeList[playerArea.x][playerArea.y]["name"] != undefined){document.getElementById("namaArea").innerHTML = mazeList[playerArea.x][playerArea.y]["name"];}
			updateCollection();
        }
		
		firstStep = false;
		numWarp = 0;
		playerEnd = [false,false,false];
		life = true;
		movable = true;
		
		function endLife(){
			document.getElementById('sidebar').innerHTML += '<br>You\'ve ended your own life. At least you are not suffering anymore.';
			playerItem['E']--;playerItem['N']--;playerItem['D']--;
			life = false;
		}
		
        function move(direction) {
			if (movable == false){return}
			if (life == false){document.getElementById('sidebar').innerHTML += '<br>You can\'t move anymore.';return}
			if (firstStep == false && direction != 'neutral'){firstStep = true; document.getElementById('sidebar').innerHTML += '<br>Now, you are taking your first step.';}
            let newX = playerPosition.x;
            let newY = playerPosition.y;

            if (direction === 'up' && newY > 0 && (maze[newY - 1][newX]).substring(0,4) !== 'wall') {
                newY -= 1;
            } else if (direction === 'down' && newY < maze.length - 1 && (maze[newY + 1][newX]).substring(0,4) !== 'wall') {
                newY += 1;
            } else if (direction === 'left' && newX > 0 && (maze[newY][newX - 1]).substring(0,4) !== 'wall') {
                newX -= 1;
            } else if (direction === 'right' && newX < maze[0].length - 1 && (maze[newY][newX + 1]).substring(0,4) !== 'wall') {
                newX += 1;
            }
			
			else if (direction === 'up' && newY > 0 && (maze[newY - 1][newX]).substring(0,4) == 'wall' && maze[newY - 1][newX].length == 5) {
				if ((maze[newY - 1][newX]).substring(4,5) == 'U'){if (playerItem['U'] != undefined){playerItem['U']++} else {playerItem['U'] = 2;}}
                if (playerItem[(maze[newY - 1][newX]).substring(4,5)] != undefined){if (playerItem[(maze[newY - 1][newX]).substring(4,5)] > 0) {if ((maze[newY - 1][newX]).substring(4,5) == 'I'){itemReceive();} newY -= 1; playerItem[(maze[newY][newX]).substring(4,5)]--; mazeList[playerArea.x][playerArea.y]["map"][newY][newX] = 'road'}};
            } else if (direction === 'down' && newY < maze.length - 1 && (maze[newY + 1][newX]).substring(0,4) == 'wall' && maze[newY + 1][newX].length == 5) {
                if ((maze[newY + 1][newX]).substring(4,5) == 'D'){if (playerItem['D'] != undefined){playerItem['D']++} else {playerItem['D'] = 2;}}
				if (playerItem[(maze[newY + 1][newX]).substring(4,5)] != undefined){if (playerItem[(maze[newY + 1][newX]).substring(4,5)] > 0) {if ((maze[newY + 1][newX]).substring(4,5) == 'I'){itemReceive();} newY += 1; playerItem[(maze[newY][newX]).substring(4,5)]--; mazeList[playerArea.x][playerArea.y]["map"][newY][newX] = 'road'}};
            } else if (direction === 'left' && newX > 0 && (maze[newY][newX - 1]).substring(0,4) == 'wall' && maze[newY][newX - 1].length == 5) {
                if ((maze[newY][newX - 1]).substring(4,5) == 'L'){if (playerItem['L'] != undefined){playerItem['L']++} else {playerItem['L'] = 2;}}
				if (playerItem[(maze[newY][newX - 1]).substring(4,5)] != undefined){if (playerItem[(maze[newY][newX - 1]).substring(4,5)] > 0) {if ((maze[newY][newX - 1]).substring(4,5) == 'I'){itemReceive();} newX -= 1; playerItem[(maze[newY][newX]).substring(4,5)]--; mazeList[playerArea.x][playerArea.y]["map"][newY][newX] = 'road'}};
            } else if (direction === 'right' && newX < maze[0].length - 1 && (maze[newY][newX + 1]).substring(0,4) == 'wall' && maze[newY][newX + 1].length == 5) {
                if ((maze[newY][newX + 1]).substring(4,5) == 'R'){if (playerItem['R'] != undefined){playerItem['R']++} else {playerItem['R'] = 2;}}
				if (playerItem[(maze[newY][newX + 1]).substring(4,5)] != undefined){if (playerItem[(maze[newY][newX + 1]).substring(4,5)] > 0) {if ((maze[newY][newX + 1]).substring(4,5) == 'I'){itemReceive();} newX += 1; playerItem[(maze[newY][newX]).substring(4,5)]--; mazeList[playerArea.x][playerArea.y]["map"][newY][newX] = 'road'}};
            }
			

            playerPosition.x = newX;
            playerPosition.y = newY;
			if (newX == 0){playerPosition.x = mazeSize[0] - 2; playerArea.x = playerArea.x - 1; maze = mazeList[playerArea.x][playerArea.y]["map"];createNeighbor(playerArea.x,playerArea.y);eventStart();numWarp++}
			if (newX == mazeSize[0] - 1){playerPosition.x = 1; playerArea.x = playerArea.x + 1; maze = mazeList[playerArea.x][playerArea.y]["map"];createNeighbor(playerArea.x,playerArea.y);eventStart();numWarp++}
			if (newY == 0){playerPosition.y = mazeSize[1] - 2; playerArea.y = playerArea.y + 1; maze = mazeList[playerArea.x][playerArea.y]["map"];createNeighbor(playerArea.x,playerArea.y);eventStart();numWarp++}
			if (newY == mazeSize[1] - 1){playerPosition.y = 1; playerArea.y = playerArea.y - 1; maze = mazeList[playerArea.x][playerArea.y]["map"];createNeighbor(playerArea.x,playerArea.y);eventStart();numWarp++}
			if (numWarp == 1){document.getElementById('sidebar').innerHTML += '<br>You realize this place is very huge..';numWarp++}
			newX = playerPosition.x;
			newY = playerPosition.y;
			
			//Collect item
			if ((newY > 0)&&(newY < maze[0].length - 1)){ if ((newX > 0)&&(newX < maze.length - 1)){
			if (mazeList[playerArea.x][playerArea.y]["item"]!=undefined){
				if (mazeList[playerArea.x][playerArea.y]["item"][newY-1][newX-1] != ''){
					if (playerItem[''+mazeList[playerArea.x][playerArea.y]["item"][newY-1][newX-1]] == undefined){playerItem[''+mazeList[playerArea.x][playerArea.y]["item"][newY-1][newX-1]] = 1 }
					else {playerItem[''+mazeList[playerArea.x][playerArea.y]["item"][newY-1][newX-1]]++}
					mazeList[playerArea.x][playerArea.y]["item"][newY-1][newX-1] = '';
				}
			}
			if (playerItem['E']!=undefined){if (playerItem['E'] == 1 && playerEnd[0] == false){playerEnd[0] = true; document.getElementById('sidebar').innerHTML += '<br>You are feeling sad..';}}
			if (playerItem['N']!=undefined){if (playerItem['N'] == 1 && playerEnd[1] == false){playerEnd[1] = true; document.getElementById('sidebar').innerHTML += '<br>You are so lonely..';}}
			if (playerItem['D']!=undefined){if (playerItem['D'] == 1 && playerEnd[2] == false){playerEnd[2] = true; document.getElementById('sidebar').innerHTML += '<br>You are depressed..';}}
			
			}}
			if (playerItem['E']!=undefined && playerItem['N']!=undefined && playerItem['D']!=undefined){
				document.getElementById('buttonEnd').hidden = true;
				if (playerItem['E']*playerItem['N']*playerItem['D'] > 0){document.getElementById('buttonEnd').hidden = false;}
			}
			if (playerItem['A']!=undefined && playerItem['R']!=undefined && playerItem['E']!=undefined){
				document.getElementById('buttonAreaClear').hidden = true;
				if (playerItem['A'] > 1 && playerItem['R'] > 0 && playerItem['E'] > 0){document.getElementById('buttonAreaClear').hidden = false;}
			}
			if (playerItem['B']!=undefined && playerItem['O']!=undefined && playerItem['M']!=undefined){
				document.getElementById('buttonBomb').hidden = true;
				if (playerItem['B'] > 1 && playerItem['O'] > 0 && playerItem['M'] > 0){document.getElementById('buttonBomb').hidden = false;}
			}
			if (playerItem['C']!=undefined){
				document.getElementById('buttonColorize').hidden = true;
				if (playerItem['C'] > 0){document.getElementById('buttonColorize').hidden = false;}
			}
			if (playerItem['F']!=undefined && playerItem['A']!=undefined && playerItem['S']!=undefined && playerItem['T']!=undefined){
				document.getElementById('buttonFastForward').hidden = true;
				if (playerItem['F']*playerItem['A']*playerItem['S']*playerItem['T'] > 0){document.getElementById('buttonFastForward').hidden = false;}
			}
			if (playerItem['G']!=undefined && playerItem['E']!=undefined && playerItem['N']!=undefined){
				document.getElementById('buttonGeneratorBuild').hidden = true;
				if (playerItem['G'] > 0 && playerItem['E'] > 1 && playerItem['N'] > 0){document.getElementById('buttonGeneratorBuild').hidden = false;}
			}
			if (playerItem['H']!=undefined && playerItem['E']!=undefined && playerItem['O']!=undefined && playerItem['M']!=undefined){
				document.getElementById('buttonHomeBuild').hidden = true;
				if (playerItem['H']*playerItem['E']*playerItem['O']*playerItem['M'] > 0){document.getElementById('buttonHomeBuild').hidden = false;}
			}
			if (playerItem['J']!=undefined){
				document.getElementById('buttonJack').hidden = true;
				if (playerItem['J'] > 0){document.getElementById('buttonJack').hidden = false;}
			}
			if (playerItem['K']!=undefined && playerItem['E']!=undefined && playerItem['Y']!=undefined){
				document.getElementById('buttonKeyMaking').hidden = true;
				if (playerItem['K']*playerItem['E']*playerItem['Y'] > 0){document.getElementById('buttonKeyMaking').hidden = false;}
			}
			if (playerItem['M']!=undefined && playerItem['I']!=undefined && playerItem['N']!=undefined && playerItem['E']!=undefined){
				document.getElementById('buttonMining').hidden = true;
				if (playerItem['M']*playerItem['I']*playerItem['N']*playerItem['E'] > 0){document.getElementById('buttonMining').hidden = false;}
			}
			if (playerItem['N']!=undefined && playerItem['A']!=undefined && playerItem['M']!=undefined && playerItem['E']!=undefined){
				document.getElementById('buttonNameArea').hidden = true;
				if (playerItem['N']*playerItem['A']*playerItem['M']*playerItem['E'] > 0){document.getElementById('buttonNameArea').hidden = false;}
			}
			
		
            drawMaze();
        }
		
		// Tambahkan event listener untuk mendeteksi input tombol arah pada keyboard
        document.addEventListener('keydown', function (event) {
            if (event.key === 'ArrowUp' || event.key === 'w') {
                move('up');
            } else if (event.key === 'ArrowDown' || event.key === 's') {
                move('down');
            } else if (event.key === 'ArrowLeft' || event.key === 'a') {
                move('left');
            } else if (event.key === 'ArrowRight' || event.key === 'd') {
                move('right');
            }
        });
		

        
    </script>

<div id="sidebar">
You wake up in this unknown place...    
</div>

<div id="sidebar2">
Your Collection 

</div>
<script>
	function updateCollection(){
		document.getElementById('sidebar2').innerHTML = "Your Collection<br>";
		for (item in Object.keys(playerItem)){
			document.getElementById('sidebar2').innerHTML += '<br>' + Object.keys(playerItem)[item] + ' - ' + playerItem[Object.keys(playerItem)[item]];
		}
	}
	updateCollection();
	drawMaze();
	move('neutral');
</script>

</body>

</html>