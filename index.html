<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Area ZeroZero</title>
      <style>
	     
		.body2 {
            display: flex;
            justify-content: center;
            align-items: center;
            margin: 0; /* Menghilangkan margin default pada body */
        }
	  
        #maze {
            display: grid;
            grid-template-columns: repeat(7, 50px); /* Ubah angka 5 sesuai dengan jumlah kolom grid */
            grid-template-rows: repeat(7, 50px); /* Ubah angka 5 sesuai dengan jumlah baris grid */
        }

        .maze-cell {
            width: 50px;
            height: 50px;
            border: 1px solid black;
			position: relative; /* Diperlukan untuk mengatur posisi teks "P" */
            display: flex;
            justify-content: center;
            align-items: center;
        }

        .maze-wall {
            background-color: black;
        }
		
		.maze-warp {
            background-color: blue;
        }
		
		.maze-letterGenerator {
            background-color: #FFFF00;
        }
		
		.maze-home {
            background-color: #FF00FF;
        }
		
		.maze-portal {
            background-color: #00FFFF;
        }

		
		#controls {
            margin-top: 20px;
        }

        button {
            margin: 5px;
            padding: 10px 15px;
            font-size: 16px;
            border: none;
            background-color: #4CAF50; /* Warna latar belakang */
            color: white; /* Warna teks */
            border-radius: 5px;
            cursor: pointer;
        }
		
		.buttonSkill {
            margin: 5px;
            padding: 10px 15px;
            font-size: 16px;
            border: none;
            background-color: #690FAD; /* Warna latar belakang */
            color: white; /* Warna teks */
            border-radius: 5px;
            cursor: pointer;
        }

        button:hover {
            background-color: #45a049; /* Warna latar belakang saat tombol dihover */
        }
		
		.buttonSkill:hover {
            background-color: white; /* Warna latar belakang saat tombol dihover */
			color: black;
        }
		
		.teks-cantik {
			font-size: 2rem;
			font-weight: bold;
			color: #fff;
			background: linear-gradient(120deg, #ff5252, #b1b1b1, #00e5ff);
			background-size: 200% auto;
		animation: gradient-shift 5s infinite;
		}

		@keyframes gradient-shift {
		0% {
			background-position: 0 0;
		}
		100% {
			background-position: 200% 0;
		}
		}
		

		#main-content {
			width: 80%;
			float: left;
			position: absolute;
		}
		
		#sidebar {
			width: 20%;
			float: right;
			background-color: rgba(255, 255, 255, 0.7);
			padding: 20px;
			height: 50%;
			overflow: scroll;
			max-height: 500px;
			background-color: #ffffff;
			box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
			margin: 0 auto;
			font-size: 16px;
			line-height: 1.5;
			margin-bottom: 15px;
			font-family: Comic Sans MS;
			
		}
		#sidebar2 {
			width: 20%;
			float: Left;
			background-color: rgba(255, 255, 255, 0.7);
			padding: 20px;
			height: 50%;
			box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
			margin: 0 auto;
			font-size: 16px;
			line-height: 1.5;
			margin-bottom: 15px;
			font-family: Arial Black;
		}






    </style>
</head>

<body>
<div id="main-content">
	<div class="body2">
	<div id="maze"></div>
	</div>
	<div class = "body2">
	<div id="namaArea" class="teks-cantik"></div>
	</div>
	<div class = "body2">
    <div id="controls">
		<div>
        <button id="buttonUp" onclick="move('up');">Up (W)</button>
		<button id="buttonColorize" class = "buttonSkill" onclick="colorize();" hidden >Colorize</button>
		<button id="buttonJack" class = "buttonSkill" onclick="jackOfAllTrades();" hidden >Jack of All Trades</button>
		<button id="buttonWarp" class = "buttonSkill" onclick="warp();" hidden >Warp</button>
        </div>
		<div>
        <button id="buttonLeft" onclick="move('left');">Left (A)</button>
        <button id="buttonRight" onclick="move('right');">Right (D)</button>
		<button id="buttonAreaClear" class = "buttonSkill" onclick="areaClear();" hidden >Area Clear</button>
		<button id="buttonBomb" class = "buttonSkill" onclick="bomb();" hidden >Bomb</button>
        </div>
		<div>
        <button id="buttonRight" onclick="move('down');">Down (S)</button>
		<button id="buttonEnd" class = "buttonSkill" onclick="endLife();" hidden >End</button>
		<button id="buttonFastForward" class = "buttonSkill" onclick="fastForward();" hidden >Fast Forward >></button>
		</div>
		<div>
		<button id="buttonKeyMaking" class = "buttonSkill" onclick="keyMaking();" hidden >Key-Making</button>
		<button id="buttonMining" class = "buttonSkill" onclick="mining();" hidden >Mining</button>
		<button id="buttonNameArea" class = "buttonSkill" onclick="namingArea();" hidden >Name Area</button>
		</div>
		<div>
		<button id="buttonGeneratorBuild" class = "buttonSkill" onclick="generatorBuild();" hidden >Build Letter Generator Here</button>
		<button id="buttonHomeBuild" class = "buttonSkill" onclick="homeBuild();" hidden >Build Home Here</button>
		<button id="buttonOuterClear" class = "buttonSkill" onclick="outerClear();" hidden >Outer Clear</button>
		</div>
		<div>
		<button id="buttonPortalCreate" class = "buttonSkill" onclick="portalCreate();" hidden >Portal Create</button>
		<button id="buttonUsePortal" class = "buttonSkill" onclick="usePortal();" hidden >Use Portal</button>
		<button id="buttonTeleport" class = "buttonSkill" onclick="teleport();" hidden >Teleport</button>
		</div>
		<div>
		<button id="buttonVortex" class = "buttonSkill" onclick="vortex();" hidden >Vortex</button>
		<button id="buttonXray" class = "buttonSkill" onclick="xray();" hidden >X Ray</button>
		<button id="buttonZeroBack" class = "buttonSkill" onclick="zeroBack();" hidden >Back to Zero</button>
		</div>
    </div>
	</div>
</div>

	
	<script>
	    mazeList = {}
		mazePosType = ['wall','road']
	</script>
	
	<script>
	function areaClear(){
		for (let i = 1; i < mazeSize[0] - 1; i++){
			for (let j = 1; j < mazeSize[1] - 1; j++){
				mazeList[playerArea.x][playerArea.y]["map"][i][j] = 'road';
			}
		}
		playerItem['A']-=2;playerItem['R']--;playerItem['E']--

		document.getElementById('buttonAreaClear').hidden = true;
		if (playerItem['A'] > 1 && playerItem['R'] > 0 && playerItem['E'] > 0){document.getElementById('buttonAreaClear').hidden = false;}
		move('neutral');
	}
	</script>

	<script>
	function bomb(){
		for (let i = playerPosition.y - 1; i < playerPosition.y + 2; i++){
			if (mazeList[playerArea.x][playerArea.y]["item"] == undefined){mazeList[playerArea.x][playerArea.y]["item"] = [['','','','',''],['','','','',''],['','','','',''],['','','','',''],['','','','','']];}
			for (let j = playerPosition.x - 1; j < playerPosition.x + 2; j++){
				if (i*j > 0  && i < mazeSize[0] - 1 && j < mazeSize[1] - 1 ){
					if (mazeList[playerArea.x][playerArea.y]["map"][i][j].substring(0,4) == 'wall' && mazeList[playerArea.x][playerArea.y]["map"][i][j].length == 5){
						mazeList[playerArea.x][playerArea.y]["item"][i-1][j-1] = mazeList[playerArea.x][playerArea.y]["map"][i][j].substring(4,5);
					}
					mazeList[playerArea.x][playerArea.y]["map"][i][j] = 'road';
				}
			}
		}
		playerItem['B']-=2;playerItem['O']--;playerItem['M']--

		document.getElementById('buttonBomb').hidden = true;
		if (playerItem['B'] > 1 && playerItem['O'] > 0 && playerItem['M'] > 0){document.getElementById('buttonBomb').hidden = false;}
		move('neutral');
	}
	</script>	
	
	<script>
	function colorize(){
		var colorHexLight = '89ABCDEF';
		var color = [0,0,0,0,0,0]
		var colorHex = '0123456789ABCDEF'
		color[0] = colorHex[Math.floor(Math.random()*colorHex.length)];
		color[1] = colorHex[Math.floor(Math.random()*colorHex.length)];
		color[2] = colorHex[Math.floor(Math.random()*colorHex.length)];
		color[3] = colorHex[Math.floor(Math.random()*colorHex.length)];
		color[4] = colorHex[Math.floor(Math.random()*colorHex.length)];
		color[5] = colorHex[Math.floor(Math.random()*colorHex.length)];
		color[2*Math.floor(Math.random()*3)] = colorHexLight[Math.floor(Math.random()*colorHexLight.length)]
		mazeList[playerArea.x][playerArea.y]['color'] = color.join('')

		playerItem['C']--

		document.getElementById('buttonColorize').hidden = true;
		if (playerItem['C'] > 0){document.getElementById('buttonColorize').hidden = false;}
		move('neutral');
	}
	</script>	
	
	<script>
	function fastForward(){
		eventSpeed++
		document.getElementById('sidebar').innerHTML += '<br>You feel that the time flow here is speeding up. All events happen faster...';

		playerItem['F']--;playerItem['A']--;playerItem['S']--;playerItem['T']--;

		document.getElementById('buttonFastForward').hidden = true;
		if (playerItem['F']*playerItem['A']*playerItem['S']*playerItem['T'] > 0){document.getElementById('buttonFastForward').hidden = false;}
		move('neutral');
	}
	</script>	
	
	<script>
	function generatorBuild(){
		mazeList[playerArea.x][playerArea.y]["map"][playerPosition.y][playerPosition.x] = 'letterGenerator';
		eventList.push(`generateLetter(${playerArea.x},${playerArea.y},${playerPosition.y},${playerPosition.x})`)

		playerItem['G']--;playerItem['E']-=2;playerItem['N']--;

		document.getElementById('buttonGeneratorBuild').hidden = true;
		if (playerItem['G'] > 0, playerItem['E'] > 1, playerItem['N'] > 0){document.getElementById('buttonGeneratorBuild').hidden = false;}
		move('neutral');
	}
	</script>	
	
	<script>
	function generateLetter(areaX,areaY,posY,posX){
	    if (mazeList[areaX][areaY]["item"] == undefined){mazeList[areaX][areaY]["item"] = [['','','','',''],['','','','',''],['','','','',''],['','','','',''],['','','','','']];}
		if (mazeList[areaX][areaY]["map"][posY][posX] != 'letterGenerator'){return}
		mazeList[areaX][areaY]["item"][posY - 1][posX - 1] = daftarHuruf[Math.floor(Math.random()*daftarHuruf.length)];
	}
	</script>
	

	<script>
	function homeBuild(){
		mazeList[playerArea.x][playerArea.y]["map"][playerPosition.y][playerPosition.x] = 'home';
		mazeList[playerArea.x][playerArea.y]["permanent"] = true;
		document.getElementById('sidebar').innerHTML += '<br>You created a home at <a href="#" onclick="goHome('+`${playerArea.x},${playerArea.y},${playerPosition.y},${playerPosition.x}`+');">AREA (' + playerArea.x + ", " + playerArea.y + ")</a>";

		playerItem['H']--;playerItem['E']--;playerItem['O']--;playerItem['M']--;

		document.getElementById('buttonHomeBuild').hidden = true;
		if (playerItem['H']*playerItem['E']*playerItem['O']*playerItem['M'] > 0){document.getElementById('buttonHomeBuild').hidden = false;}
		move('neutral');
	}
	</script>	
	
	<script>
	function goHome(areaX,areaY,posY,posX){
		if (movable == false){return}
		if (mazeList[areaX][areaY]["map"][posY][posX] != 'home'){
			document.getElementById('sidebar').innerHTML += '<br>This home has been destroyed.';
			return;
		};
		playerArea.x = areaX; playerArea.y = areaY; playerPosition.x = posX, playerPosition.y = posY;
		maze = mazeList[playerArea.x][playerArea.y]["map"];
		drawMaze();
	}
	</script>
	
	<script>
		function itemReceive(){
			itemReceived = daftarHuruf[Math.floor(Math.random()*daftarHuruf.length)];
			itemQuantity = 1 + Math.floor(1/(1-Math.random()));
			if (playerItem[itemReceived] == undefined){playerItem[itemReceived] = itemQuantity}
			else {playerItem[itemReceived]+=itemQuantity}
			document.getElementById('sidebar').innerHTML += `<br>You found ${itemQuantity} ${itemReceived}s.`;
			move('neutral');
		}
	</script>
	
	<script>
	function jackOfAllTrades(){
		for (let i = 1; i < mazeSize[0] - 1; i++){
			for (let j = 1; j < mazeSize[1] - 1; j++){
				if (mazeList[playerArea.x][playerArea.y]["map"][i][j].substring(0,4) == 'wall'){mazeList[playerArea.x][playerArea.y]["map"][i][j] = 'wall' + daftarHuruf[Math.floor(Math.random()*daftarHuruf.length)];}
			}
		}
		
		playerItem['J']--;

		document.getElementById('buttonJack').hidden = true;
		if (playerItem['J'] > 0){document.getElementById('buttonJack').hidden = false;}
		move('neutral');
	}
	</script>	
	
	<script>
	function keyMaking(){
		for (let i = 1; i < mazeSize[0] - 1; i++){
			for (let j = 1; j < mazeSize[1] - 1; j++){
				if (mazeList[playerArea.x][playerArea.y]["map"][i][j].substring(0,4) == 'wall' && mazeList[playerArea.x][playerArea.y]["map"][i][j].length == 5){
					var hurufMaking = mazeList[playerArea.x][playerArea.y]["map"][i][j].substring(4,5);
					if (playerItem[hurufMaking] == undefined){playerItem[hurufMaking] = 1}
					else {playerItem[hurufMaking]++}
				}
			}
		}
		move('neutral');
		
		playerItem['K']--;playerItem['E']--;playerItem['Y']--;

		document.getElementById('buttonKeyMaking').hidden = true;
		if (playerItem['K']*playerItem['E']*playerItem['Y'] > 0){document.getElementById('buttonKeyMaking').hidden = false;}
		move('neutral');
	}
	</script>
	
	<script>
	function mining(){
		for (let i = 1; i < mazeSize[0] - 1; i++){
			for (let j = 1; j < mazeSize[1] - 1; j++){
				if (mazeList[playerArea.x][playerArea.y]["map"][i][j].substring(0,4) == 'wall'){mazeList[playerArea.x][playerArea.y]["map"][i][j] = 'wallI';}
			}
		}
		playerItem['I'] += Math.floor(1/(1-Math.random()));
		
		playerItem['M']--;playerItem['I']--;playerItem['N']--;playerItem['E']--;

		document.getElementById('buttonMining').hidden = true;
		if (playerItem['M']*playerItem['I']*playerItem['N']*playerItem['E'] > 0){document.getElementById('buttonMining').hidden = false;}
		move('neutral');
		
	}
	</script>
	
	<script>
	function namingArea(){
		document.getElementById('sidebar').innerHTML += '<br><div id="tempText">Name this area:<br><input type="text" id="areaNaming" ><br><button onclick="nameThisArea()">Name</button></div>';
		movable = false;
		
		playerItem['N']--;playerItem['A']--;playerItem['M']--;playerItem['E']--;

		document.getElementById('buttonNameArea').hidden = true;
		if (playerItem['N']*playerItem['A']*playerItem['M']*playerItem['E'] > 0){document.getElementById('buttonNameArea').hidden = false;}
		
		move('neutral');
	}
	</script>
	
	<script>
		function nameThisArea(){
			mazeList[playerArea.x][playerArea.y]["name"] = document.getElementById("areaNaming").value;
			mazeList[playerArea.x][playerArea.y]["permanent"] = true;
			movable = true
			document.getElementById('sidebar').innerHTML += 'You named this area ' + document.getElementById("areaNaming").value;
			document.getElementById("tempText").remove();
		}
	</script>
	
	<script>
	function outerClear(){
		for (let i = 1; i < mazeSize[0] - 1; i++){
			for (let j = 1; j < mazeSize[1] - 1; j++){
				if (i == 1 || j == 1 || i == mazeSize[0] - 2 || j == mazeSize[1] - 2){mazeList[playerArea.x][playerArea.y]["map"][i][j] = 'road';}
			}
		}
		
		playerItem['O']--;playerItem['U']--;playerItem['T']--;

		document.getElementById('buttonOuterClear').hidden = true;
		if (playerItem['O']*playerItem['U']*playerItem['T'] > 0){document.getElementById('buttonOuterClear').hidden = false;}
		
		move('neutral');
	}
	</script>
	
	<script>
		questionList = [
			['Who are you?','who'],
			['Do you know who you are?','who?'],
			['Why are you here?','why'],
			['Do you know why you are here?','why?'],
			['Do you have any memories?','memory'],
			['Wondering where is this place?','where'],
			['Wondering what is the purpose of this place?','placePurpose'],
			['Wondering what is the purpose of your life?','purposeLife'],
			['What is the purpose of you here?','why'],
			['How you can be here?','how'],
			['What happen here?','what'],
			['What happen to you?','whatYou'],
		]
		identityList = {
			"teacher": {'who': 'You remembered you are a teacher,', 'who?': ['You remembered you were teaching your students about SOUND in the past.','You remembered you were teaching some people about SOUND in the past.'], 'why':'You remembered you are here because you want to find your son, he is a strong soldier.', 'why?':'You remembered you have to find someone here.', 'memory':['The BOMB reminded you to your son.','The BOMB reminded you to someone you forget who he is.'], 'where':'You remembered this place is called Home of the Mu.', 'placePurpose':'You remembered this place is so sacred to the local. Anyone is prohibited to enter this place since it is so dangerous.', 'purposeLife':'You remembered you want to have happy life with your family.', 'how':'You remembered you came here by yourself alone.', 'what':'You remembered the rumor about a monster in this place.', 'whatYou':'You remembered when you came here you saw a monster and then fell asleep.'},
			"soldier": {'who': 'You remembered you are a soldier,', 'who?': ['You remembered you were using BOMB in the past when protecting your country.','You remembered you were using BOMB in the past.'], 'why':'You remembered you are here because you want to find your brother, he is a police who got lost when investigating something here.', 'why?':'You remembered you have to find someone here.', 'memory':['The BOMB reminded you about your past.','The BOMB reminded you about your past.'], 'where':'You remembered this place is called Home of the Mu.', 'placePurpose':'You remembered this place is so sacred to the local. Anyone is prohibited to enter this place since it is so dangerous.', 'purposeLife':'You remembered about your dream to protect your country.', 'how':'You remembered you came here by yourself alone with some preperations.', 'what':'You remembered the rumor about a monster in this place.', 'whatYou':'You remembered when you came here you saw a monster and then fell asleep.'},
			"police": {'who': 'You remembered you are a police,', 'who?': ['You remembered when your brother teach you how to use gun.','You remembered the corruption in your country.'], 'why':'You remembered you are here because you want to investigate and find about the lost local farmer.', 'why?':'You remembered you have to find someone here.', 'memory':['The BOMB reminded to your brother.','The BOMB reminded you to your brother.'], 'where':'You remembered this place is called Home of the Mu.', 'placePurpose':'You remembered this place is so sacred to the local. Anyone is prohibited to enter this place since it is so dangerous.', 'purposeLife':'You remembered about your dream to protect your family, friends, and country.', 'how':'You remembered you came here by yourself alone with some preperations.', 'what':'You remembered the rumor about a monster in this place.', 'whatYou':'You remembered when you came here you saw a monster and then fell asleep.'},
			"doctor": {'who': 'You remembered you are a doctor,', 'who?': ['You remembered you were doing XRAY to your patient.','You remembered something about mysterious GENE.'], 'why':'You remembered you are here because you want to investigate and find about the lost local farmer.', 'why?':'You remembered you want to find someone here.', 'memory':['This place seem familiar with this place, you have some kind of feeling, a dangerous thing is here.','You seem so familiar with this place.'], 'where':'You remembered this place is called Home of the Mu.', 'placePurpose':'You remembered this place is so sacred to the local. Anyone is prohibited to enter this place since it is so dangerous.', 'purposeLife':'You remembered about your dream to become a doctor so everyone will be happy, strong, and healthy.', 'how':'You remembered you came here by yourself alone with some preperations.', 'what':'You remembered the rumor about a monster in this place.', 'whatYou':'You remembered when you came here you saw a monster and then fell asleep.'},
			"farmer": {'who': 'You remembered you are a farmer,', 'who?': ['You remembered about your farmland, wife, and kids.','You remembered when you used to relax on the edge of a rice field.'], 'why':'You remembered you are here because you want to find the rumored treasure told by the miner.', 'why?':'You remembered you want to find something here.', 'memory':['You miss your family.','The BOMB reminded you about your past.'], 'where':'You remembered this place is called Mu Balla.', 'placePurpose':'You remembered this place is so sacred to your neighborhood. Here is the place you and the local people make sacrifices.', 'purposeLife':'You remembered you want to have happy life with your family.', 'how':'You remembered you came here by following mysterious creature.', 'what':'You remembered the rumor about gold and magic in this place.', 'whatYou':'You remembered when you came here you saw a monster, It punched you until you fainted.'},
			"miner": {'who': 'You remembered you are a miner,', 'who?': ['You remembered you are working here to MINE here on government order.','You remembered you are here because the corrupt told you.'], 'why':'You remembered you are here because you want to find an abandoned mineshaft.', 'why?':'You remembered you want to find something here.', 'memory':['You just can\'t remember so much about your life.','You just can\'t remember so much about your life.'], 'where':'You remembered this place is called Mu Balla.', 'placePurpose':'You remembered this place is so sacred to your neighborhood. Here is the place you and the local people make sacrifices.', 'purposeLife':'You remembered you have no purpose in your life.', 'how':'You remembered you came here by yourself alone with some preperations.', 'what':'You see this place is a cave but somewhat looks like building or facility.', 'whatYou':'You remembered you came here everyday but today you seem like to have memory loss.'},
			"null": {'who': 'You remembered you are a something,', 'who?': ['You remembered something about your GENE.','You remember something about GENE and XRAY.'], 'why':'You remebered you are here because you live here.', 'why?':'You remembered you have to protect your country but why?', 'memory':['You remembered someone. He looks like a doctor in your imagination.','This place feels so familiar to you.'], 'where':'You remembered this place is called Hokker Secret Laboratory.', 'placePurpose':'You remembered this place is a place to do so many experiments.', 'purposeLife':'You remembered about your dream to protect your country.', 'how':'You remembered you were always here.', 'what':'You remembered this place is abandoned.', 'whatYou':'You remember you fell asleep as always in this place but today you seem like to have memory loss.'},
			
		};
		identityNames = Object.keys(identityList)
		playerAnsweredQuestion = {
		}
		playerAskingQuestion = []
		
		for (let i = 0; i < questionList.length; i++){
			playerAnsweredQuestion[questionList[i][1]] = false;
		}
		function questioning(){
			questionSelected = questionList[Math.floor(Math.random()*questionList.length)]
			document.getElementById('sidebar').innerHTML += '<br>' + questionSelected[0];
			if (!playerAnsweredQuestion[questionSelected[1]]){playerAskingQuestion.push(questionSelected[1]);}
		}
	
	</script>
	
	<script>
		playerIdentity = {}
		function answerQuestion(){
			if (playerAskingQuestion.length == 0){return}
			if (playerIdentity["name"] == undefined){playerIdentity["name"] = identityNames[Math.floor(Math.random()*identityNames.length)];}
			jawabanPlayer = identityList[playerIdentity["name"]];
			if (playerAskingQuestion.length == 0){return}
			pilihanPertanyaan = playerAskingQuestion[Math.floor(Math.random()*playerAskingQuestion.length)]
			if (playerAnsweredQuestion[pilihanPertanyaan]){return}
			
			if (pilihanPertanyaan == "who?"){
				jawaban = jawabanPlayer["who?"][1];
				if (playerAnsweredQuestion["who"]){jawaban = jawabanPlayer["who?"][0]}
				playerAnsweredQuestion["who?"] = true;
			}
			else if (pilihanPertanyaan == "memory"){
				jawaban = jawabanPlayer["memory"][1];
				if (playerAnsweredQuestion["why"]){jawaban = jawabanPlayer["memory"][0]}
				playerAnsweredQuestion["memory"] = true;
			}
			else {
				if (pilihanPertanyaan == "why?" && playerAnsweredQuestion["why"]){return}
				jawaban = jawabanPlayer[pilihanPertanyaan];
				playerAnsweredQuestion[pilihanPertanyaan] = true;
			}
			
			
			document.getElementById('sidebar').innerHTML += '<br>' + jawaban;
			
		}
	</script>
	
	<script>
	
	portal = {}
	function portalCreate(){
		portalStart = [playerArea.x,playerArea.y,playerPosition.x,playerPosition.y]
		portalEnd = [];
		
		pilihanAreaX = Object.keys(mazeList)[Math.floor(Math.random()*Object.keys(mazeList).length)];
		pilihanAreaXObjek = mazeList[pilihanAreaX];
		
		while (Object.keys(pilihanAreaXObjek).length == 0){
			pilihanAreaX = Object.keys(mazeList)[Math.floor(Math.random()*Object.keys(mazeList).length)];
			pilihanAreaXObjek = mazeList[pilihanAreaX];
		}
		portalEnd.push(parseInt(pilihanAreaX));
		pilihanAreaY = Object.keys(pilihanAreaXObjek)[Math.floor(Math.random()*Object.keys(pilihanAreaXObjek).length)];
		portalEnd.push(parseInt(pilihanAreaY));
		createNeighbor(portalEnd[0],portalEnd[1]);
		
		portalEnd.push(Math.ceil(Math.random()*(mazeSize[0]-2)));
		portalEnd.push(Math.ceil(Math.random()*(mazeSize[1]-2)));
		
		portal[`${portalStart[0]}-${portalStart[1]}-${portalStart[2]}-${portalStart[3]}`] = portalEnd;
		portal[`${portalEnd[0]}-${portalEnd[1]}-${portalEnd[2]}-${portalEnd[3]}`] = portalStart;
		
		mazeList[portalStart[0]][portalStart[1]]['map'][portalStart[3]][portalStart[2]] = 'portal';
		mazeList[portalEnd[0]][portalEnd[1]]['map'][portalEnd[3]][portalEnd[2]] = 'portal';
		
		
		playerItem['P']--;playerItem['O']--;playerItem['R']--;playerItem['T']--;playerItem['A']--;playerItem['L']--;

		document.getElementById('buttonPortalCreate').hidden = true;
		if (playerItem['P']*playerItem['O']*playerItem['R']*playerItem['T']*playerItem['A']*playerItem['L'] > 0){document.getElementById('buttonPortalCreate').hidden = false;}
		
		move('neutral');
		
	}
	</script>
	
	<script>
		function usePortal(){
			[areaX, areaY, posX, posY] = portal[`${playerArea.x}-${playerArea.y}-${playerPosition.x}-${playerPosition.y}`];
			if (movable == false){return}
			if (mazeList[areaX][areaY]["map"][posY][posX] != 'portal'){
					document.getElementById('sidebar').innerHTML += '<br>This portal has been broken.';
					return;
			};
			playerArea.x = areaX; playerArea.y = areaY; playerPosition.x = posX, playerPosition.y = posY;
			maze = mazeList[playerArea.x][playerArea.y]["map"];
			
		
		move('neutral');
		}
	</script>
	
	<script>
	function teleport(){
		if (movable == false){document.getElementById('sidebar').innerHTML += '<br>You can\'t teleport now.'; return}
		teleportDestination = [];
		
		pilihanAreaX = Object.keys(mazeList)[Math.floor(Math.random()*Object.keys(mazeList).length)];
		pilihanAreaXObjek = mazeList[pilihanAreaX];
		
		while (Object.keys(pilihanAreaXObjek).length == 0){
			pilihanAreaX = Object.keys(mazeList)[Math.floor(Math.random()*Object.keys(mazeList).length)];
			pilihanAreaXObjek = mazeList[pilihanAreaX];
		}
		teleportDestination.push(parseInt(pilihanAreaX));
		pilihanAreaY = Object.keys(pilihanAreaXObjek)[Math.floor(Math.random()*Object.keys(pilihanAreaXObjek).length)];
		teleportDestination.push(parseInt(pilihanAreaY));
		createNeighbor(teleportDestination[0],teleportDestination[1]);
		
		teleportDestination.push(Math.ceil(Math.random()*(mazeSize[0]-2)));
		teleportDestination.push(Math.ceil(Math.random()*(mazeSize[1]-2)));
		
		[areaX, areaY, posX, posY] = teleportDestination;
		playerArea.x = areaX; playerArea.y = areaY; playerPosition.x = posX, playerPosition.y = posY;
		maze = mazeList[playerArea.x][playerArea.y]["map"];
		
		playerItem['T']--;playerItem['E']-=2;playerItem['L']--;

		document.getElementById('buttonTeleport').hidden = true;
		if (playerItem['T']*playerItem['L']*(playerItem['E']-1) > 0){document.getElementById('buttonTeleport').hidden = false;}
		
		
		bomb();outerClear();
	}
	</script>
	
	<script>
	function vortex(){
		for (let i = playerPosition.y - 2; i < playerPosition.y + 3; i++){
			if (mazeList[playerArea.x][playerArea.y]["item"] == undefined){mazeList[playerArea.x][playerArea.y]["item"] = [['','','','',''],['','','','',''],['','','','',''],['','','','',''],['','','','','']];}
			for (let j = playerPosition.x - 2; j < playerPosition.x + 3; j++){
				if (i*j > 0  && i < mazeSize[0] - 1 && j < mazeSize[1] - 1 ){
					if (mazeList[playerArea.x][playerArea.y]["map"][i][j].substring(0,4) == 'wall' && mazeList[playerArea.x][playerArea.y]["map"][i][j].length == 5){
						mazeList[playerArea.x][playerArea.y]["item"][i-1][j-1] = mazeList[playerArea.x][playerArea.y]["map"][i][j].substring(4,5);
					}
					mazeList[playerArea.x][playerArea.y]["map"][i][j] = 'road';
				}
			}
		}
		playerItem['V']--;playerItem['O']--;playerItem['R']--;playerItem['T']--;playerItem['E']--;playerItem['X']--;

		document.getElementById('buttonVortex').hidden = true;
		if (playerItem['V']*playerItem['O']*playerItem['R']*playerItem['T']*playerItem['E']*playerItem['X'] > 0){document.getElementById('buttonVortex').hidden = false;}
		move('neutral');
	}
	</script>
	
	<script>
	function warp(){
		if (movable == false){document.getElementById('sidebar').innerHTML += '<br>You can\'t warp now.'; return}
		currentPosition = [playerPosition.x, playerPosition.y];
		warpDestination = [];
		warpDestination =  [currentPosition[0], currentPosition[1]];
		warpData = mazeList[playerArea.x][playerArea.y]["warps"]
		
		while (warpDestination[0] == currentPosition[0] && warpDestination[1] == currentPosition[1]){
			warpChosen = Math.floor(Math.random()*4);
			switch (warpChosen){
				case 0:
					warpDestination = [1,warpData[0]];
					break;
				case 1:
					warpDestination = [mazeSize[0]-2,warpData[1]];
					break;
				case 2:
					warpDestination = [warpData[2],1];
					break;
				case 3:
					warpDestination = [warpData[3],mazeSize[1]-2];
					break;
			}
		} 
		
		[posX, posY] = warpDestination;
		playerPosition.x = posX, playerPosition.y = posY;
		
		playerItem['W']--;

		document.getElementById('buttonWarp').hidden = true;
		if (playerItem['W'] > 0){document.getElementById('buttonWarp').hidden = false;}
		
		move('neutral');

	}
	</script>
	
	<script>
	function xray(){
		for (let i = 1; i < mazeSize[0] - 1; i++){
			if (mazeList[playerArea.x][playerArea.y]["item"] == undefined){mazeList[playerArea.x][playerArea.y]["item"] = [['','','','',''],['','','','',''],['','','','',''],['','','','',''],['','','','','']];}
					
				if (mazeList[playerArea.x][playerArea.y]["map"][i][i].substring(0,4) == 'wall' && mazeList[playerArea.x][playerArea.y]["map"][i][i].length == 5){
					mazeList[playerArea.x][playerArea.y]["item"][i-1][i-1] = mazeList[playerArea.x][playerArea.y]["map"][i][i].substring(4,5);
				}
				mazeList[playerArea.x][playerArea.y]["map"][i][i] = 'road';
				if (mazeList[playerArea.x][playerArea.y]["map"][i][mazeSize[1] - 1 - i].substring(0,4) == 'wall' && mazeList[playerArea.x][playerArea.y]["map"][i][mazeSize[1] - 1 - i].length == 5){
					mazeList[playerArea.x][playerArea.y]["item"][i-1][mazeSize[1] - 1 - i - 1] = mazeList[playerArea.x][playerArea.y]["map"][i][mazeSize[1] - 1 - i].substring(4,5);
				}
				mazeList[playerArea.x][playerArea.y]["map"][i][mazeSize[1] - 1 - i] = 'road';
				
			
		}
		playerItem['X']--;playerItem['R']--;playerItem['A']--;playerItem['Y']--;

		document.getElementById('buttonXray').hidden = true;
		if (playerItem['X']*playerItem['R']*playerItem['A']*playerItem['Y'] > 0){document.getElementById('buttonXray').hidden = false;}
		move('neutral');
	}
	</script>	
	
	<script>
		smileList = [
			'You are smiling..',
			'You manically smile..',
			'You are laughing..',
			'You are manically laughing..',
			'You feel happy.',
			'You are feeling happy..',
			'You are feeling a little bit happy..',
		]
		function smile(){
			document.getElementById('sidebar').innerHTML += '<br>' + smileList[Math.floor(Math.random()*smileList.length)];
		}
	
	</script>
	
	<script>
	function zeroBack(){
		if (movable == false){document.getElementById('sidebar').innerHTML += '<br>You can\'t teleport now.'; return}

		
		[areaX, areaY, posX, posY] = [0,0,3,3];
		playerArea.x = areaX; playerArea.y = areaY; playerPosition.x = posX, playerPosition.y = posY;
		maze = mazeList[playerArea.x][playerArea.y]["map"];
		
		playerItem['Z']--;playerItem['E']--;playerItem['R']--;playerItem['O']--;

		document.getElementById('buttonZeroBack').hidden = true;
		if (playerItem['Z']*playerItem['E']*playerItem['R']*playerItem['O'] > 0){document.getElementById('buttonZeroBack').hidden = false;}
		
		
		bomb();outerClear();
		
		 
	}
	</script>
	
	<script>
		daftarHuruf = "QWERTYUIOPASDFGHJKLZXCVBNM";
		function spawnItem(){
			pilihanAreaX = Object.keys(mazeList)[Math.floor(Math.random()*Object.keys(mazeList).length)];
			pilihanAreaXObjek = mazeList[pilihanAreaX];
			if (Object.keys(pilihanAreaXObjek).length == 0){return}
			pilihanAreaY = Object.keys(pilihanAreaXObjek)[Math.floor(Math.random()*Object.keys(pilihanAreaXObjek).length)];
			if ((playerArea.x == pilihanAreaX)&&(playerArea.y == pilihanAreaY)){return}
			if (mazeList[pilihanAreaX][pilihanAreaY]["item"] == undefined){
				mazeList[pilihanAreaX][pilihanAreaY]["item"] = [['','','','',''],['','','','',''],['','','','',''],['','','','',''],['','','','','']];
			}
			koordinatItem = [Math.ceil(Math.random()*5),Math.ceil(Math.random()*5)]
			if (mazeList[pilihanAreaX][pilihanAreaY]["map"][koordinatItem[0]][koordinatItem[1]]=='wall'){return}
			mazeList[pilihanAreaX][pilihanAreaY]["item"][koordinatItem[0]-1][koordinatItem[1]-1] = daftarHuruf[Math.floor(Math.random()*daftarHuruf.length)];
		}
	</script>
	<script>
		function mazeReconstruct(){
			pilihanAreaX = Object.keys(mazeList)[Math.floor(Math.random()*Object.keys(mazeList).length)];
			pilihanAreaXObjek = mazeList[pilihanAreaX];
			if (Object.keys(pilihanAreaXObjek).length == 0){return}
			pilihanAreaY = Object.keys(pilihanAreaXObjek)[Math.floor(Math.random()*Object.keys(pilihanAreaXObjek).length)];
			if (mazeList[pilihanAreaX][pilihanAreaY]['permanent'] != undefined){
				if (mazeList[pilihanAreaX][pilihanAreaY]['permanent'] == true){return}
			}
			if ((playerArea.x == pilihanAreaX)&&(playerArea.y == pilihanAreaY)){return}
			var mapBaru = [];
			var mazeSize = [7,7];
			warps = mazeList[pilihanAreaX][pilihanAreaY]["warps"];
			for(let i = 0; i < mazeSize[0]; i++){
					newMazeRow = [];
					for(let j = 0; j < mazeSize[1]; j++){
						pilihanTipe = mazePosType[Math.floor(Math.random()*mazePosType.length)]
						if (pilihanTipe == 'wall' && Math.random() < 1/2){pilihanTipe += daftarHuruf[Math.floor(Math.random()*daftarHuruf.length)]}
						if (((i==0)||(i==mazeSize[0]-1))||((j==0)||(j==mazeSize[1]-1))){pilihanTipe = 'wall';}
						if (( ((i==warps[0])&&(j==0))||((i==warps[1])&&(j==mazeSize[1]-1)) )||( ((i==0)&&(j==warps[2]))||((i==mazeSize[0]-1)&&(j==warps[3])) )){pilihanTipe = 'warp';}
						if (( ((i==warps[0])&&(j==1))||((i==warps[1])&&(j==mazeSize[1]-2)) )||( ((i==1)&&(j==warps[2]))||((i==mazeSize[0]-2)&&(j==warps[3])) )){pilihanTipe = 'road'}
						if ((j > 0)&&(j < mazeSize[1] - 1)){ if ((i > 0)&&(i < mazeSize[0] - 1)){
						if (mazeList[pilihanAreaX][pilihanAreaY]["item"]!=undefined){
							if (mazeList[pilihanAreaX][pilihanAreaY]["item"][i-1][j-1] != ''){pilihanTipe = 'road'};
						}
						}}
						newMazeRow.push(pilihanTipe)
					}
					mapBaru.push(newMazeRow);
				}
			mazeList[pilihanAreaX][pilihanAreaY]["map"] = mapBaru;
		}
	</script>
	
	<script>
		whisperSkill = ['AREA','BOMB','FAST','GENE','HOME','KEY','MINE','NAME','OUT','PORTAL','TELE','VORTEX','XRAY','EXIT']
		function soundWhispering(){
			document.getElementById('sidebar').innerHTML += '<br>You hear like someone is whispering something...<br>' + whisperSkill[Math.floor(Math.random()*whisperSkill.length)];			
		}
	</script>
	
	<script>
		function createExitDoor(){
			pilihanAreaX = Object.keys(mazeList)[Math.floor(Math.random()*Object.keys(mazeList).length)];
			pilihanAreaXObjek = mazeList[pilihanAreaX];
			if (Object.keys(pilihanAreaXObjek).length == 0){createExitDoor(); return}
			pilihanAreaY = Object.keys(pilihanAreaXObjek)[Math.floor(Math.random()*Object.keys(pilihanAreaXObjek).length)];
			pilihanAreaX = parseInt(pilihanAreaX);
			pilihanAreaY = parseInt(pilihanAreaX);
			pilihanAreaX = pilihanAreaX + ( (-1)**(Math.floor(Math.random()*2)) )*( Math.floor(1/(1-Math.random())) - 1);
			pilihanAreaY = pilihanAreaY + ( (-1)**(Math.floor(Math.random()*2)) )*( Math.floor(1/(1-Math.random())) - 1);
			
			if (mazeList[pilihanAreaX] == undefined){}
			else if (mazeList[pilihanAreaX][pilihanAreaY] == undefined){}
			else if (mazeList[pilihanAreaX][pilihanAreaY]['permanent'] != undefined){
				if (mazeList[pilihanAreaX][pilihanAreaY]['permanent'] == true){createExitDoor(); return}
			}
			if ((playerArea.x == pilihanAreaX)&&(playerArea.y == pilihanAreaY)){createExitDoor(); return}
			
			createNeighbor(pilihanAreaX,pilihanAreaY-1);
			createNeighbor(pilihanAreaX,pilihanAreaY+1);
			createNeighbor(pilihanAreaX-1,pilihanAreaY);
			createNeighbor(pilihanAreaX+1,pilihanAreaY);
			
			if (mazeList[pilihanAreaX][pilihanAreaY]["item"] == undefined){mazeList[pilihanAreaX][pilihanAreaY]["item"] = [['','','','',''],['','','','',''],['','','','',''],['','','','',''],['','','','','']];}
			doorPlaced = false;
			while (doorPlaced == false){
				pilihanPosY = Math.ceil(Math.random()*(mazeSize[0]-2))
				pilihanPosX = Math.ceil(Math.random()*(mazeSize[1]-2))
				if (mazeList[pilihanAreaX][pilihanAreaY]["map"][pilihanPosY][pilihanPosX] == 'road'){
					mazeList[pilihanAreaX][pilihanAreaY]["item"][pilihanPosY-1][pilihanPosX-1] = 'exitDoor';
					doorPlaced = true;
				}
			}
			mazeList[pilihanAreaX][pilihanAreaY]['permanent'] = true;
			document.getElementById('sidebar').innerHTML += '<br>You hear like someone is whispering something...<br>It tells you some numbers<br>' + pilihanAreaX + ' ' + pilihanAreaY;
			
		}
	</script>
	
	<script>
		function exit(){
		    tanyaPintu = Object.keys(playerAnsweredQuestion);
			tanyaPintuTerpilih = tanyaPintu[Math.floor(Math.random()*tanyaPintu.length)];
			movable = false;
			doorPosition = [playerPosition.x, playerPosition.y];
			playerPosition.x = -2; playerPosition.y = -2;
			drawMaze();
			if (playerAnsweredQuestion[tanyaPintuTerpilih] && playerIdentity["name"] != undefined){
				if (playerIdentity["name"] == 'null'){
					document.getElementById('sidebar').innerHTML += '<br>You found an exit door.<br>You escaped from this place.<br>You remember everything and want revenge.<br>SOMETHING ENDING';
				}
				document.getElementById('sidebar').innerHTML += '<br>You found an exit door.<br>You escaped from this place.<br>You remember everything and go home.<br>You don\'t want to go back to that place again.<br>MEMORY ENDING';
				return
			}
			document.getElementById('sidebar').innerHTML += '<br>You found an exit door.<br>You escaped from this place but you still have memory loss.<br>You are walking and then find a village.<br>You are starting a new life.<br>MEMORY LOSS ENDING';
		}
	</script>
	
	<script>
		function summonWhisperer(){
			pilihanAreaX = Object.keys(mazeList)[Math.floor(Math.random()*Object.keys(mazeList).length)];
			pilihanAreaXObjek = mazeList[pilihanAreaX];
			if (Object.keys(pilihanAreaXObjek).length == 0){summonWhisperer(); return}
			pilihanAreaY = Object.keys(pilihanAreaXObjek)[Math.floor(Math.random()*Object.keys(pilihanAreaXObjek).length)];
			pilihanAreaX = parseInt(pilihanAreaX);
			pilihanAreaY = parseInt(pilihanAreaX);
			pilihanAreaX = pilihanAreaX + ( (-1)**(Math.floor(Math.random()*2)) )*( Math.floor(1/(1-Math.random())) - 1);
			pilihanAreaY = pilihanAreaY + ( (-1)**(Math.floor(Math.random()*2)) )*( Math.floor(1/(1-Math.random())) - 1);
			
			if (mazeList[pilihanAreaX] == undefined){}
			else if (mazeList[pilihanAreaX][pilihanAreaY] == undefined){}
			else if (mazeList[pilihanAreaX][pilihanAreaY]['permanent'] != undefined){
				if (mazeList[pilihanAreaX][pilihanAreaY]['permanent'] == true){summonWhisperer(); return}
			}
			if ((playerArea.x == pilihanAreaX)&&(playerArea.y == pilihanAreaY)){summonWhisperer(); return}
			
			createNeighbor(pilihanAreaX,pilihanAreaY-1);
			createNeighbor(pilihanAreaX,pilihanAreaY+1);
			createNeighbor(pilihanAreaX-1,pilihanAreaY);
			createNeighbor(pilihanAreaX+1,pilihanAreaY);
			
			if (mazeList[pilihanAreaX][pilihanAreaY]["person"] == undefined){mazeList[pilihanAreaX][pilihanAreaY]["person"] = [['','','','',''],['','','','',''],['','','','',''],['','','','',''],['','','','','']];}
			if (mazeList[pilihanAreaX][pilihanAreaY]["item"] == undefined){mazeList[pilihanAreaX][pilihanAreaY]["item"] = [['','','','',''],['','','','',''],['','','','',''],['','','','',''],['','','','','']];}
			whispererSummoned = false;
			while (whispererSummoned == false){
				pilihanPosY = Math.ceil(Math.random()*(mazeSize[0]-2))
				pilihanPosX = Math.ceil(Math.random()*(mazeSize[1]-2))
				if (mazeList[pilihanAreaX][pilihanAreaY]["map"][pilihanPosY][pilihanPosX] == 'road'){
					mazeList[pilihanAreaX][pilihanAreaY]["person"][pilihanPosY-1][pilihanPosX-1] = 'whisperer';
					mazeList[pilihanAreaX][pilihanAreaY]["item"][pilihanPosY-1][pilihanPosX-1] = '';
					whispererSummoned = true;
				}
			}
			mazeList[pilihanAreaX][pilihanAreaY]['permanent'] = true;
			document.getElementById('sidebar').innerHTML += '';
			whispererPosition = {areaX:pilihanAreaX, areaY: pilihanAreaY, x:pilihanPosX, y:pilihanPosY};
			
		}
	</script>
	
	<script>
		eventList = ['mazeReconstruct','spawnItem']
		eventSpeed = 1;
		function eventStart(){
			for (let i = 0; i < eventSpeed; i++){
			pilihanEvent = eventList[Math.floor(Math.random()*eventList.length)];
			switch (pilihanEvent){
				case 'mazeReconstruct':
					mazeReconstruct();
					break;
				case 'spawnItem':
					spawnItem();
					break;
				case 'whisper':
					soundWhispering();
					break;
			}
			if (pilihanEvent.substring(0,14) == 'generateLetter'){eval(pilihanEvent)}
			}
			
			
		}
	</script>
	<script>
		function createNeighbor(a,b){
			if (mazeList[a] == undefined){}
			else if (mazeList[a][b] == undefined){}
			else if (mazeList[a][b]["neighbor"] == 1){return}
			
			daftarTetangga = [[0,1],[0,-1],[-1,0],[1,0]];
			for (i = 0; i < 4; i++){
				a2 = a + daftarTetangga[i][0];
				if (mazeList[a2] == undefined){mazeList[a2] = {};}
				b2 = b + daftarTetangga[i][1];
				if (mazeList[a2][b2] == undefined){
				
					if (mazeList[a2-1] == undefined){mazeList[a2-1] = {};}
					if (mazeList[a2+1] == undefined){mazeList[a2+1] = {};}
				
					var mapBaru = []
					mazeSize = [7,7];
					warps = [Math.ceil(Math.random()*(mazeSize[0]-2)),Math.ceil(Math.random()*(mazeSize[0]-2)),Math.ceil(Math.random()*(mazeSize[1]-2)),Math.ceil(Math.random()*(mazeSize[1]-2))]
					if (mazeList[a2][b2+1] != undefined){warps[2] = mazeList[a2][b2+1]["warps"][3];}
					if (mazeList[a2][b2-1] != undefined){warps[3] = mazeList[a2][b2-1]["warps"][2];}
					if (mazeList[a2-1][b2] != undefined){warps[0] = mazeList[a2-1][b2]["warps"][1];}
					if (mazeList[a2+1][b2] != undefined){warps[1] = mazeList[a2+1][b2]["warps"][0];}
					for(let i = 0; i < mazeSize[0]; i++){
						newMazeRow = [];
						for(let j = 0; j < mazeSize[1]; j++){
								pilihanTipe = mazePosType[Math.floor(Math.random()*mazePosType.length)]
								if (pilihanTipe == 'wall' && Math.random() < 1/2){pilihanTipe += daftarHuruf[Math.floor(Math.random()*daftarHuruf.length)]}
								if (((i==0)||(i==mazeSize[0]-1))||((j==0)||(j==mazeSize[1]-1))){pilihanTipe = 'wall';}
								if (( ((i==warps[0])&&(j==0))||((i==warps[1])&&(j==mazeSize[1]-1)) )||( ((i==0)&&(j==warps[2]))||((i==mazeSize[0]-1)&&(j==warps[3])) )){pilihanTipe = 'warp';}
								if (( ((i==warps[0])&&(j==1))||((i==warps[1])&&(j==mazeSize[1]-2)) )||( ((i==1)&&(j==warps[2]))||((i==mazeSize[0]-2)&&(j==warps[3])) )){pilihanTipe = 'road'};
						newMazeRow.push(pilihanTipe)
					}
						mapBaru.push(newMazeRow);
					}
					mazeList[a2][b2] = {"map": mapBaru, "neighbor": 0, "warps": warps}
				}
			}
			if (mazeList[a] == undefined){return}
			else if (mazeList[a][b] == undefined){return}
			mazeList[a][b]["neighbor"] = 1;
		}
	</script>
	<script>
		//create area zero zero
		areaZeroZero = []
		mazeSize = [7,7];
		warps = [Math.ceil(Math.random()*(mazeSize[0]-2)),Math.ceil(Math.random()*(mazeSize[0]-2)),Math.ceil(Math.random()*(mazeSize[1]-2)),Math.ceil(Math.random()*(mazeSize[1]-2))]
		for(let i = 0; i < mazeSize[0]; i++){
			newMazeRow = [];
			for(let j = 0; j < mazeSize[1]; j++){
				pilihanTipe = mazePosType[Math.floor(Math.random()*mazePosType.length)]
				if (pilihanTipe == 'wall' && Math.random() < 1/2){pilihanTipe += daftarHuruf[Math.floor(Math.random()*daftarHuruf.length)]}
				if (((i==0)||(i==mazeSize[0]-1))||((j==0)||(j==mazeSize[1]-1))){pilihanTipe = 'wall';}
				if (( ((i==warps[0])&&(j==0))||((i==warps[1])&&(j==mazeSize[1]-1)) )||( ((i==0)&&(j==warps[2]))||((i==mazeSize[0]-1)&&(j==warps[3])) )){pilihanTipe = 'warp';}
				if (( ((i==warps[0])&&(j==1))||((i==warps[1])&&(j==mazeSize[1]-2)) )||( ((i==1)&&(j==warps[2]))||((i==mazeSize[0]-2)&&(j==warps[3])) )){pilihanTipe = 'road'}
				if ((i == Math.floor(mazeSize[0]/2))&&(j == Math.floor(mazeSize[1]/2))){pilihanTipe = 'road';}
			    newMazeRow.push(pilihanTipe)
			}
			areaZeroZero.push(newMazeRow);
		}
		mazeList[0] = {};
		mazeList[0][0] = {"map": areaZeroZero, "neighbor": 0, "warps": warps}
        createNeighbor(0,0)
	</script>
	
	    <script>
        maze = areaZeroZero

        const playerPosition = { x: Math.floor(mazeSize[0]/2), y: Math.floor(mazeSize[1]/2) };
        playerArea = { x: 0, y: 0};
		playerItem = {B: 4, O: 4, M: 2, C:5};
		
		
        function drawMaze() {
			
            const mazeContainer = document.getElementById('maze');
            mazeContainer.innerHTML = '';

            for (let row = 0; row < maze.length; row++) {
                for (let col = 0; col < maze[row].length; col++) {
                    const cell = document.createElement('div');
                    cell.classList.add('maze-cell');
                    cell.classList.add('maze-'+maze[row][col]);
					
					if ((maze[row][col]).substring(0,4) == 'wall'){cell.classList.add('maze-wall');}
					if ((maze[row][col]).substring(0,4) == 'wall' && maze[row][col].length == 5){cell.innerHTML = '<div style="color: white">' + (maze[row][col]).substring(4,5) + '</div>';}
					
					if ((col > 0)&&(col < maze[row].length - 1)){ if ((row > 0)&&(row < maze.length - 1)){
					if (mazeList[playerArea.x][playerArea.y]["item"]!=undefined){
							if (mazeList[playerArea.x][playerArea.y]["item"][row-1][col-1] != ''){
								cell.innerHTML = mazeList[playerArea.x][playerArea.y]["item"][row-1][col-1]
							};
							if (cell.innerHTML == "exitDoor"){cell.innerHTML = '<span style="font-size: 45px;">🚪</span>';cell.setAttribute("id","doorPlace");}
					}
					if (mazeList[playerArea.x][playerArea.y]["person"]!=undefined){
							if (mazeList[playerArea.x][playerArea.y]["person"][row-1][col-1] != ''){
								cell.innerHTML = mazeList[playerArea.x][playerArea.y]["person"][row-1][col-1]
							};
							if (cell.innerHTML == "whisperer"){cell.innerHTML = '(0,0)';cell.setAttribute("id","whispererPlace");}
					}
					}}
					if (mazeList[playerArea.x][playerArea.y]["color"]!=undefined && maze[row][col] == 'road'){
							cell.style.backgroundColor = "#" + mazeList[playerArea.x][playerArea.y]["color"];
					}
					if (playerPosition.x === col && playerPosition.y === row) {
                        cell.innerHTML = '<img src="player.png"/>'; // Representasi pemain
                    }
                    mazeContainer.appendChild(cell);
                }
            }
			document.getElementById("namaArea").innerHTML = "AREA (" + playerArea.x + ", " + playerArea.y + ")";
			if (mazeList[playerArea.x][playerArea.y]["name"] != undefined){document.getElementById("namaArea").innerHTML = mazeList[playerArea.x][playerArea.y]["name"];}
			updateCollection();
        }
		
		firstStep = false;
		firstItem = 0;
		numWarp = 0;
		playerEnd = [false,false,false];
		life = true;
		movable = true;
		whisper = false;
		exitDoorExist = false;
		whispererExist = false
		
		function endLife(){
			document.getElementById('sidebar').innerHTML += '<br>You\'ve ended your own life. At least you are not suffering anymore.<br>COMMIT ENDING';
			playerItem['E']--;playerItem['N']--;playerItem['D']--;
			life = false;
		}
		
        function move(direction) {
			if (movable == false){return}
			if (life == false){document.getElementById('sidebar').innerHTML += '<br>You can\'t move anymore.';return}
			if (firstStep == false && direction != 'neutral'){firstStep = true; document.getElementById('sidebar').innerHTML += '<br>Now, you are taking your first step.';}
            let newX = playerPosition.x;
            let newY = playerPosition.y;

            if (direction === 'up' && newY > 0 && (maze[newY - 1][newX]).substring(0,4) !== 'wall') {
                newY -= 1;
            } else if (direction === 'down' && newY < maze.length - 1 && (maze[newY + 1][newX]).substring(0,4) !== 'wall') {
                newY += 1;
            } else if (direction === 'left' && newX > 0 && (maze[newY][newX - 1]).substring(0,4) !== 'wall') {
                newX -= 1;
            } else if (direction === 'right' && newX < maze[0].length - 1 && (maze[newY][newX + 1]).substring(0,4) !== 'wall') {
                newX += 1;
            }
			
			else if (direction === 'up' && newY > 0 && (maze[newY - 1][newX]).substring(0,4) == 'wall' && maze[newY - 1][newX].length == 5) {
				if ((maze[newY - 1][newX]).substring(4,5) == 'U'){if (playerItem['U'] != undefined){playerItem['U']++} else {playerItem['U'] = 2;}}
                if (playerItem[(maze[newY - 1][newX]).substring(4,5)] != undefined){if (playerItem[(maze[newY - 1][newX]).substring(4,5)] > 0) {if ((maze[newY - 1][newX]).substring(4,5) == 'I'){itemReceive();} if ((maze[newY - 1][newX]).substring(4,5) == 'Q'){answerQuestion();} newY -= 1; playerItem[(maze[newY][newX]).substring(4,5)]--; mazeList[playerArea.x][playerArea.y]["map"][newY][newX] = 'road'}};
            } else if (direction === 'down' && newY < maze.length - 1 && (maze[newY + 1][newX]).substring(0,4) == 'wall' && maze[newY + 1][newX].length == 5) {
                if ((maze[newY + 1][newX]).substring(4,5) == 'D'){if (playerItem['D'] != undefined){playerItem['D']++} else {playerItem['D'] = 2;}}
				if (playerItem[(maze[newY + 1][newX]).substring(4,5)] != undefined){if (playerItem[(maze[newY + 1][newX]).substring(4,5)] > 0) {if ((maze[newY + 1][newX]).substring(4,5) == 'I'){itemReceive();} if ((maze[newY + 1][newX]).substring(4,5) == 'Q'){answerQuestion();} newY += 1; playerItem[(maze[newY][newX]).substring(4,5)]--; mazeList[playerArea.x][playerArea.y]["map"][newY][newX] = 'road'}};
            } else if (direction === 'left' && newX > 0 && (maze[newY][newX - 1]).substring(0,4) == 'wall' && maze[newY][newX - 1].length == 5) {
                if ((maze[newY][newX - 1]).substring(4,5) == 'L'){if (playerItem['L'] != undefined){playerItem['L']++} else {playerItem['L'] = 2;}}
				if (playerItem[(maze[newY][newX - 1]).substring(4,5)] != undefined){if (playerItem[(maze[newY][newX - 1]).substring(4,5)] > 0) {if ((maze[newY][newX - 1]).substring(4,5) == 'I'){itemReceive();} if ((maze[newY][newX - 1]).substring(4,5) == 'Q'){answerQuestion();} newX -= 1; playerItem[(maze[newY][newX]).substring(4,5)]--; mazeList[playerArea.x][playerArea.y]["map"][newY][newX] = 'road'}};
            } else if (direction === 'right' && newX < maze[0].length - 1 && (maze[newY][newX + 1]).substring(0,4) == 'wall' && maze[newY][newX + 1].length == 5) {
                if ((maze[newY][newX + 1]).substring(4,5) == 'R'){if (playerItem['R'] != undefined){playerItem['R']++} else {playerItem['R'] = 2;}}
				if (playerItem[(maze[newY][newX + 1]).substring(4,5)] != undefined){if (playerItem[(maze[newY][newX + 1]).substring(4,5)] > 0) {if ((maze[newY][newX + 1]).substring(4,5) == 'I'){itemReceive();} if ((maze[newY][newX + 1]).substring(4,5) == 'Q'){answerQuestion();} newX += 1; playerItem[(maze[newY][newX]).substring(4,5)]--; mazeList[playerArea.x][playerArea.y]["map"][newY][newX] = 'road'}};
            }
			

            playerPosition.x = newX;
            playerPosition.y = newY;
			if (newX == 0){playerPosition.x = mazeSize[0] - 2; playerArea.x = playerArea.x - 1; maze = mazeList[playerArea.x][playerArea.y]["map"];createNeighbor(playerArea.x,playerArea.y);eventStart();numWarp++}
			if (newX == mazeSize[0] - 1){playerPosition.x = 1; playerArea.x = playerArea.x + 1; maze = mazeList[playerArea.x][playerArea.y]["map"];createNeighbor(playerArea.x,playerArea.y);eventStart();numWarp++}
			if (newY == 0){playerPosition.y = mazeSize[1] - 2; playerArea.y = playerArea.y + 1; maze = mazeList[playerArea.x][playerArea.y]["map"];createNeighbor(playerArea.x,playerArea.y);eventStart();numWarp++}
			if (newY == mazeSize[1] - 1){playerPosition.y = 1; playerArea.y = playerArea.y - 1; maze = mazeList[playerArea.x][playerArea.y]["map"];createNeighbor(playerArea.x,playerArea.y);eventStart();numWarp++}
			if (numWarp == 1){document.getElementById('sidebar').innerHTML += '<br>You realize this place is very huge..';numWarp++}
			newX = playerPosition.x;
			newY = playerPosition.y;
			
			//Collect item
			if ((newY > 0)&&(newY < maze[0].length - 1)){ if ((newX > 0)&&(newX < maze.length - 1)){
			if (mazeList[playerArea.x][playerArea.y]["item"]!=undefined){
				if (mazeList[playerArea.x][playerArea.y]["item"][newY-1][newX-1] != ''){
					itemName  = '' + mazeList[playerArea.x][playerArea.y]["item"][newY-1][newX-1];
					if (playerItem[''+mazeList[playerArea.x][playerArea.y]["item"][newY-1][newX-1]] == undefined){playerItem[''+mazeList[playerArea.x][playerArea.y]["item"][newY-1][newX-1]] = 1 }
					else {playerItem[''+mazeList[playerArea.x][playerArea.y]["item"][newY-1][newX-1]]++}
					mazeList[playerArea.x][playerArea.y]["item"][newY-1][newX-1] = '';
					if (firstItem < 3){
					if (firstItem == 2){document.getElementById('sidebar').innerHTML += '<br>There are so many of them here.';firstItem++}
					if (firstItem == 1){document.getElementById('sidebar').innerHTML += '<br>The item you found might be useful.';firstItem++}
					if (firstItem == 0){document.getElementById('sidebar').innerHTML += '<br>You found something.';firstItem++}
					}
					if (itemName == 'Q'){questioning();}
					if (itemName == 'Y'){smile();}
					if (itemName == 'exitDoor'){mazeList[playerArea.x][playerArea.y]["item"][newY-1][newX-1] = 'exitDoor'; exit(); }
					
				}
			}
			if (playerItem['E']!=undefined){if (playerItem['E'] == 1 && playerEnd[0] == false){playerEnd[0] = true; document.getElementById('sidebar').innerHTML += '<br>You are feeling sad..';}}
			if (playerItem['N']!=undefined){if (playerItem['N'] == 1 && playerEnd[1] == false){playerEnd[1] = true; document.getElementById('sidebar').innerHTML += '<br>You are so lonely..';}}
			if (playerItem['D']!=undefined){if (playerItem['D'] == 1 && playerEnd[2] == false){playerEnd[2] = true; document.getElementById('sidebar').innerHTML += '<br>You are depressed..';}}
			
			}}
			if (playerItem['E']!=undefined && playerItem['N']!=undefined && playerItem['D']!=undefined){
				document.getElementById('buttonEnd').hidden = true;
				if (playerItem['E']*playerItem['N']*playerItem['D'] > 0){document.getElementById('buttonEnd').hidden = false;}
			}
			if (playerItem['A']!=undefined && playerItem['R']!=undefined && playerItem['E']!=undefined){
				document.getElementById('buttonAreaClear').hidden = true;
				if (playerItem['A'] > 1 && playerItem['R'] > 0 && playerItem['E'] > 0){document.getElementById('buttonAreaClear').hidden = false;}
			}
			if (playerItem['B']!=undefined && playerItem['O']!=undefined && playerItem['M']!=undefined){
				document.getElementById('buttonBomb').hidden = true;
				if (playerItem['B'] > 1 && playerItem['O'] > 0 && playerItem['M'] > 0){document.getElementById('buttonBomb').hidden = false;}
			}
			if (playerItem['C']!=undefined){
				document.getElementById('buttonColorize').hidden = true;
				if (playerItem['C'] > 0){document.getElementById('buttonColorize').hidden = false;}
			}
			if (playerItem['F']!=undefined && playerItem['A']!=undefined && playerItem['S']!=undefined && playerItem['T']!=undefined){
				document.getElementById('buttonFastForward').hidden = true;
				if (playerItem['F']*playerItem['A']*playerItem['S']*playerItem['T'] > 0){document.getElementById('buttonFastForward').hidden = false;}
			}
			if (playerItem['G']!=undefined && playerItem['E']!=undefined && playerItem['N']!=undefined){
				document.getElementById('buttonGeneratorBuild').hidden = true;
				if (playerItem['G'] > 0 && playerItem['E'] > 1 && playerItem['N'] > 0){document.getElementById('buttonGeneratorBuild').hidden = false;}
			}
			if (playerItem['H']!=undefined && playerItem['E']!=undefined && playerItem['O']!=undefined && playerItem['M']!=undefined){
				document.getElementById('buttonHomeBuild').hidden = true;
				if (playerItem['H']*playerItem['E']*playerItem['O']*playerItem['M'] > 0){document.getElementById('buttonHomeBuild').hidden = false;}
			}
			if (playerItem['J']!=undefined){
				document.getElementById('buttonJack').hidden = true;
				if (playerItem['J'] > 0){document.getElementById('buttonJack').hidden = false;}
			}
			if (playerItem['K']!=undefined && playerItem['E']!=undefined && playerItem['Y']!=undefined){
				document.getElementById('buttonKeyMaking').hidden = true;
				if (playerItem['K']*playerItem['E']*playerItem['Y'] > 0){document.getElementById('buttonKeyMaking').hidden = false;}
			}
			if (playerItem['M']!=undefined && playerItem['I']!=undefined && playerItem['N']!=undefined && playerItem['E']!=undefined){
				document.getElementById('buttonMining').hidden = true;
				if (playerItem['M']*playerItem['I']*playerItem['N']*playerItem['E'] > 0){document.getElementById('buttonMining').hidden = false;}
			}
			if (playerItem['N']!=undefined && playerItem['A']!=undefined && playerItem['M']!=undefined && playerItem['E']!=undefined){
				document.getElementById('buttonNameArea').hidden = true;
				if (playerItem['N']*playerItem['A']*playerItem['M']*playerItem['E'] > 0){document.getElementById('buttonNameArea').hidden = false;}
			}
			if (playerItem['O']!=undefined && playerItem['U']!=undefined && playerItem['T']!=undefined){
				document.getElementById('buttonOuterClear').hidden = true;
				if (playerItem['O']*playerItem['U']*playerItem['T'] > 0){document.getElementById('buttonOuterClear').hidden = false;}
			}
			if (playerItem['P']!=undefined && playerItem['O']!=undefined && playerItem['R']!=undefined && playerItem['T']!=undefined && playerItem['A']!=undefined && playerItem['L']!=undefined){
				document.getElementById('buttonPortalCreate').hidden = true;
				if (playerItem['P']*playerItem['O']*playerItem['R']*playerItem['T']*playerItem['A']*playerItem['L'] > 0){document.getElementById('buttonPortalCreate').hidden = false;}
			}
			if (playerItem['T']!=undefined && playerItem['E']!=undefined && playerItem['L']!=undefined){
				document.getElementById('buttonTeleport').hidden = true;
				if (playerItem['T']*playerItem['L']*(playerItem['E']-1) > 0){document.getElementById('buttonTeleport').hidden = false;}
			}
			if (playerItem['V']!=undefined && playerItem['O']!=undefined && playerItem['R']!=undefined && playerItem['T']!=undefined && playerItem['E']!=undefined && playerItem['X']!=undefined){
				document.getElementById('buttonVortex').hidden = true;
				if (playerItem['V']*playerItem['O']*playerItem['R']*playerItem['T']*playerItem['E']*playerItem['X'] > 0){document.getElementById('buttonVortex').hidden = false;}
			}
			if (playerItem['W']!=undefined){
				document.getElementById('buttonWarp').hidden = true;
				if (playerItem['W'] > 0){document.getElementById('buttonWarp').hidden = false;}
			}
			if (playerItem['X']!=undefined && playerItem['R']!=undefined && playerItem['A']!=undefined && playerItem['Y']!=undefined){
				document.getElementById('buttonXray').hidden = true;
				if (playerItem['X']*playerItem['R']*playerItem['A']*playerItem['Y'] > 0){document.getElementById('buttonXray').hidden = false;}
			}
			if (playerItem['Z']!=undefined && playerItem['E']!=undefined && playerItem['R']!=undefined && playerItem['O']!=undefined){
				document.getElementById('buttonZeroBack').hidden = true;
				if (playerItem['Z']*playerItem['E']*playerItem['R']*playerItem['O'] > 0){document.getElementById('buttonZeroBack').hidden = false;}
			}
			
			if (!whisper){
			if (playerItem['S']!=undefined && playerItem['O']!=undefined && playerItem['U']!=undefined && playerItem['N']!=undefined && playerItem['D']!=undefined){
				if (playerItem['S']*playerItem['O']*playerItem['U']*playerItem['N']*playerItem['D'] > 0){
					whisper = true; eventList.push('whisper');
				}
			}
			}
			
			if (!exitDoorExist){
			if (playerItem['E']!=undefined && playerItem['X']!=undefined && playerItem['I']!=undefined && playerItem['T']!=undefined){
				if (playerItem['E']*playerItem['X']*playerItem['I']*playerItem['T'] > 0){
					exitDoorExist = true; createExitDoor();
				}
			}
			}
			
			if (!whispererExist){
			if (playerItem['W']!=undefined && playerItem['H']!=undefined && playerItem['I']!=undefined && playerItem['S']!=undefined && playerItem['P']!=undefined && playerItem['E']!=undefined && playerItem['R']!=undefined){
				if (playerItem['W']*playerItem['H']*playerItem['I']*playerItem['S']*playerItem['P']*playerItem['E']*playerItem['R'] > 0){
					whispererExist = true; summonWhisperer();
				}
			}
			}
			
			if (whispererExist){
				if (playerArea.x == whispererPosition.areaX && playerArea.y == whispererPosition.areaY && playerPosition.x == whispererPosition.x && playerPosition.y == whispererPosition.y){
					playerPosition.x = -2; playerPosition.y = -2;
					movable = false;
					
					for (i = 0; i < mazeSize[0] ; i++){
						for (j = 0; j < mazeSize[1] ; j++){
							maze[i][j] = 'wall';
						}
					}
					drawMaze();
					document.getElementById('sidebar').innerHTML += '<br>You found the whisperer.<br>The whisperer killed you.<br>You are dead.<br>WHISPERER ENDING';
					
				}
			}
			
			document.getElementById('buttonUsePortal').hidden = true;
			if (maze[playerPosition.y][playerPosition.x] == 'portal'){
				document.getElementById('buttonUsePortal').hidden = false;
			}
		
            drawMaze();
        }
		
		// Tambahkan event listener untuk mendeteksi input tombol arah pada keyboard
        document.addEventListener('keydown', function (event) {
            if (event.key === 'ArrowUp' || event.key === 'w') {
                move('up');
            } else if (event.key === 'ArrowDown' || event.key === 's') {
                move('down');
            } else if (event.key === 'ArrowLeft' || event.key === 'a') {
                move('left');
            } else if (event.key === 'ArrowRight' || event.key === 'd') {
                move('right');
            }
        });
		

        
    </script>

<div id="sidebar">
You wake up in this unknown place...<br>
You realize you are holding some explosive items and colorful things.<br>
The only thing you can remember is someone told you to collect the SOUND.
</div>

<div id="sidebar2">
Your Collection 

</div>
<script>
	function updateCollection(){
		document.getElementById('sidebar2').innerHTML = "Your Collection<br>";
		for (item in Object.keys(playerItem)){
			if (playerItem[Object.keys(playerItem)[item]] > 0 &&  Object.keys(playerItem)[item] != 'exitDoor'){
			document.getElementById('sidebar2').innerHTML += '<br>' + Object.keys(playerItem)[item] + ' - ' + playerItem[Object.keys(playerItem)[item]];
			}
			
		}
	}
	updateCollection();
	drawMaze();
	move('neutral');
</script>

</body>

</html>